{"externalControllerServices":{},"flowContents":{"comments":"Contains all the Process Groups and Nifi Flows related with the Integrator Framework","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"c7fdca7d-597a-389a-aac6-ca7962e5a3e4","instanceIdentifier":"5388bc09-28af-37a5-89dd-1b7ed4061409","name":"input","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"6504a571-8433-307d-b093-63f1a28cd602","identifier":"7ec75b38-e737-3060-8767-32136753785e","instanceIdentifier":"b97b8d38-0003-3960-ac9b-11abba4a86b1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"911e672d-df67-3f8b-8891-05951ab150df","id":"a917b23d-f90b-309d-940a-1d8efdc607ea","instanceIdentifier":"84838413-37e5-3e35-94ad-1aaec8d68cf8","name":"inbound msg","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"720dd3c8-6f98-3d6c-b598-5d7a14993cf0","instanceIdentifier":"edf6804f-0152-3d31-8bdf-e547db5b4202","name":"input","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"6504a571-8433-307d-b093-63f1a28cd602","identifier":"4e14da73-9b7c-3ee0-ab7b-85a28347350e","instanceIdentifier":"17c36d3b-a12e-33a9-a8ae-e99ad2c4bcc7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"04cdb35f-f10f-36fa-8b42-d6bf4b7410ea","instanceIdentifier":"d57b6f84-f1b1-3cf4-8e15-892e226adfea","name":"for processing (from encoding)","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"32d27f2c-2ec4-3be9-86fc-aee8c9aa8383","instanceIdentifier":"bb6bb282-89cd-31a9-827b-e7851c3d3db7","name":"input","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"6504a571-8433-307d-b093-63f1a28cd602","identifier":"0d941deb-aa87-3e69-adac-5a41729cc11c","instanceIdentifier":"739847a3-fb6d-3194-87c8-4482cd4511d1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"b0a156d1-c226-3abe-a7a2-e2fbb1713335","instanceIdentifier":"a1e3831d-7a68-3b5d-8c1d-77c87283d325","name":"for processing (from Transform)","type":"OUTPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"identifier":"6504a571-8433-307d-b093-63f1a28cd602","inputPorts":[],"instanceIdentifier":"d92b9358-0195-1000-0000-00002c079d50","labels":[],"name":"Integrator_Framework (InstantX)","outputPorts":[],"parameterContextName":"instantx.context","position":{"x":407.0,"y":212.01171875},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"33519732-3590-39d4-a01f-b8f4fd5c4fc7","instanceIdentifier":"925d19d4-ea62-379d-8ec0-60e15c60fd7e","name":"Failure","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"d1db5c04-e7e9-3601-9be0-f20795bf22ca","instanceIdentifier":"9c7dccb6-c218-31b9-8a45-8d982fa0317c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"b44ea8d2-af44-3f0f-8eda-7dd4cd65b72a","instanceIdentifier":"a6c9c98a-ef2c-333f-be68-3a9bfaff4bc4","name":"PutFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":1664.0,"y":1640.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"96e64bc8-515c-360a-80da-a96f3e418f0b","instanceIdentifier":"42f13d07-cb08-1d2f-976d-14d5ece923a4","name":"LogMessage","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"28fd4970-2488-331a-b940-4d77caf19e8c","instanceIdentifier":"42f13d7d-cb08-1d2f-ffff-ffff9021abe3","labelIndex":0,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"95481d52-c14b-39ba-8209-e4e9f32d1db5","instanceIdentifier":"42f13d5e-cb08-1d2f-0000-00002dc0f9fe","name":"Move hex attribute to Content","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"34da338a-c0ee-3a13-b7c0-4626b1869444","instanceIdentifier":"f95c0c59-e9ca-3e13-9520-490e0df921c0","name":"ExecuteStreamCommand","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"3538f697-21bb-3946-888d-03cf2d63d907","instanceIdentifier":"487861c4-1a43-3d70-b150-a27801d1256a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"38240d2c-9785-3e44-9c46-eed417060332","instanceIdentifier":"9807a2aa-f998-3f49-b66d-9c7ea7cfc64f","name":"Extract Encoder Attributes","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"95545f4c-7b4c-3e94-80b8-9af55387ce9f","instanceIdentifier":"58602bea-dcbf-3497-a797-e6504ae8bac7","name":"Sucess","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"ef4be5c3-4bdb-337c-92b4-ab3d649988c7","instanceIdentifier":"cb4bf311-a519-3222-b651-aac7a81a2fc7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"b44ea8d2-af44-3f0f-8eda-7dd4cd65b72a","instanceIdentifier":"a6c9c98a-ef2c-333f-be68-3a9bfaff4bc4","name":"PutFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"04cdb35f-f10f-36fa-8b42-d6bf4b7410ea","instanceIdentifier":"d57b6f84-f1b1-3cf4-8e15-892e226adfea","name":"for processing (from encoding)","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"9708a906-a66c-362b-b37c-75f9e80e2c56","instanceIdentifier":"42f13da2-cb08-1d2f-0000-000048496212","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"5678ef2b-8f30-3ea7-a48d-1be10dbd4a7e","instanceIdentifier":"42f13d95-cb08-1d2f-0000-0000033d18e7","name":"Convert Hex to Binary","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":1888.0,"y":1896.0},{"x":1888.0,"y":1392.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"96e64bc8-515c-360a-80da-a96f3e418f0b","instanceIdentifier":"42f13d07-cb08-1d2f-976d-14d5ece923a4","name":"LogMessage","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"394d2439-f9dd-3b20-bb65-06d376480a2e","instanceIdentifier":"42f13da5-cb08-1d2f-ffff-ffff9a0ffdf6","labelIndex":0,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"5678ef2b-8f30-3ea7-a48d-1be10dbd4a7e","instanceIdentifier":"42f13d95-cb08-1d2f-0000-0000033d18e7","name":"Convert Hex to Binary","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"5678ef2b-8f30-3ea7-a48d-1be10dbd4a7e","instanceIdentifier":"42f13d95-cb08-1d2f-0000-0000033d18e7","name":"Convert Hex to Binary","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"44a6047f-efbb-376d-881d-1944b4a5a6b1","instanceIdentifier":"42f13d7a-cb08-1d2f-0000-00002e831398","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"95481d52-c14b-39ba-8209-e4e9f32d1db5","instanceIdentifier":"42f13d5e-cb08-1d2f-0000-00002dc0f9fe","name":"Move hex attribute to Content","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":384.0,"y":832.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"38240d2c-9785-3e44-9c46-eed417060332","instanceIdentifier":"9807a2aa-f998-3f49-b66d-9c7ea7cfc64f","name":"Extract Encoder Attributes","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"00e69547-69f9-3f9e-84c1-df7a6820c83a","instanceIdentifier":"d7caa56d-8865-3a2f-a50b-a7c9bf79864c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"a5bd8144-30cc-3d42-b4ee-c416286e11d5","instanceIdentifier":"59a6a23e-8c7c-32cd-b3e7-9137957700b4","name":"GenerateFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"96e64bc8-515c-360a-80da-a96f3e418f0b","instanceIdentifier":"42f13d07-cb08-1d2f-976d-14d5ece923a4","name":"LogMessage","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"69e3ef24-222c-3e50-b8f3-eb3b5c52cb09","instanceIdentifier":"42f13d40-cb08-1d2f-ffff-ffffa925d980","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"0352bd51-f9ce-3c75-b575-b89355eefb53","instanceIdentifier":"42f13d0e-cb08-1d2f-0000-000065dd6391","name":"Check for successfull encoding","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"b44ea8d2-af44-3f0f-8eda-7dd4cd65b72a","instanceIdentifier":"a6c9c98a-ef2c-333f-be68-3a9bfaff4bc4","name":"PutFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"7237d554-c243-39fb-a954-8f3855e420a2","instanceIdentifier":"4fbad9cc-7586-3d58-8c26-5c8f18ffa05a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"0458d0b2-f13a-300f-990b-6b7225bf0115","instanceIdentifier":"5c664984-6c51-3ad6-aca8-64e1b12176db","name":"Python Encoder","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"95481d52-c14b-39ba-8209-e4e9f32d1db5","instanceIdentifier":"42f13d5e-cb08-1d2f-0000-00002dc0f9fe","name":"Move hex attribute to Content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"197598f9-fe50-3b7b-9e23-f415cfaf787f","instanceIdentifier":"42f13d3d-cb08-1d2f-ffff-ffffaaafd749","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"0352bd51-f9ce-3c75-b575-b89355eefb53","instanceIdentifier":"42f13d0e-cb08-1d2f-0000-000065dd6391","name":"Check for successfull encoding","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"0352bd51-f9ce-3c75-b575-b89355eefb53","instanceIdentifier":"42f13d0e-cb08-1d2f-0000-000065dd6391","name":"Check for successfull encoding","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"514b6a88-6820-30be-8c3d-ea65ee3d61bd","instanceIdentifier":"355b0029-198e-39c0-9664-e44c70104ccd","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["original"],"source":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"34da338a-c0ee-3a13-b7c0-4626b1869444","instanceIdentifier":"f95c0c59-e9ca-3e13-9520-490e0df921c0","name":"ExecuteStreamCommand","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"38240d2c-9785-3e44-9c46-eed417060332","instanceIdentifier":"9807a2aa-f998-3f49-b66d-9c7ea7cfc64f","name":"Extract Encoder Attributes","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"553485f7-6612-3277-ab65-35d00585522a","instanceIdentifier":"72a77c1c-1ba2-3b31-92cc-6eed424c9099","labelIndex":0,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"563f6450-b155-303a-aca4-061a991a0089","id":"32d27f2c-2ec4-3be9-86fc-aee8c9aa8383","instanceIdentifier":"bb6bb282-89cd-31a9-827b-e7851c3d3db7","name":"input","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"6504a571-8433-307d-b093-63f1a28cd602","identifier":"563f6450-b155-303a-aca4-061a991a0089","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"32d27f2c-2ec4-3be9-86fc-aee8c9aa8383","instanceIdentifier":"bb6bb282-89cd-31a9-827b-e7851c3d3db7","name":"input","position":{"x":816.0,"y":568.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"a71f9d1b-3519-3c4c-9616-32b0420b40c8","labels":[{"componentType":"LABEL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","height":192.0,"identifier":"728ab5c8-cf0c-386f-9802-99b36caf85d0","instanceIdentifier":"6fb43ebc-79b8-1f63-bc3e-e6d4b25f183b","label":"             ERROR HANDLING","position":{"x":1480.0,"y":1280.0},"style":{"font-size":"24px"},"width":376.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","height":176.0,"identifier":"2b8c4c3d-9c2c-3757-921e-66dc72a22098","instanceIdentifier":"406c3da4-8bff-3b96-9de1-f536394a9563","label":"Encoder Engine:\n-------------------------------\n- encode binary to Hex String\n- encode from JER (Json) to UPER (Hex String)\n- encode from XER (Xml) to UPER (Hex String)\n \nMaybe decode + encode to validate structure, for already encoded messages","position":{"x":1240.0,"y":520.0},"style":{"font-size":"18px"},"width":656.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","height":40.0,"identifier":"907c3b4f-7d63-3d3f-b194-36e2c7c7f729","instanceIdentifier":"25a6a78d-45e7-3081-8b00-2558770b0c45","label":"                                       MAIN FLOW","position":{"x":632.0,"y":520.0},"style":{"font-size":"24px"},"width":600.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","height":40.0,"identifier":"7484462b-e4a0-38ff-8318-79f6c51ce543","instanceIdentifier":"a1fb1b46-d888-3b72-9dad-c5b96af7fd79","label":"script need enhancement to support xml","position":{"x":1128.0,"y":1048.0},"style":{"font-size":"14px"},"width":352.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","height":128.0,"identifier":"bf93b228-8952-381b-9232-51736271e67f","instanceIdentifier":"d56c0a69-2436-38ea-ba14-afb31dd6790d","label":"Concurrent\nTasks: 2","position":{"x":632.0,"y":768.0},"style":{"font-size":"18px"},"width":120.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","height":64.0,"identifier":"4b44863e-f4a7-39a3-ab4f-6592ce241e7b","instanceIdentifier":"db11b4da-11ce-340b-b60e-61233233c740","label":"To Upload Python Encoder","position":{"x":2432.0,"y":440.0},"style":{"font-size":"24px"},"width":352.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","height":40.0,"identifier":"d0352d39-4671-3f86-8115-cd3e4436ada8","instanceIdentifier":"216b43a5-8875-3312-bd79-f0c0848ee3c8","label":"TESTING","position":{"x":208.0,"y":520.0},"style":{"font-size":"24px"},"width":352.0,"zIndex":0}],"name":"Encoder Engine","outputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"95545f4c-7b4c-3e94-80b8-9af55387ce9f","instanceIdentifier":"58602bea-dcbf-3497-a797-e6504ae8bac7","name":"Sucess","position":{"x":3048.0,"y":1032.0},"scheduledState":"DISABLED","type":"OUTPUT_PORT"},{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"33519732-3590-39d4-a01f-b8f4fd5c4fc7","instanceIdentifier":"925d19d4-ea62-379d-8ec0-60e15c60fd7e","name":"Failure","position":{"x":3040.0,"y":680.0},"scheduledState":"DISABLED","type":"OUTPUT_PORT"},{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"04cdb35f-f10f-36fa-8b42-d6bf4b7410ea","instanceIdentifier":"d57b6f84-f1b1-3cf4-8e15-892e226adfea","name":"for processing (from encoding)","position":{"x":816.0,"y":2104.0},"scheduledState":"ENABLED","type":"OUTPUT_PORT"}],"parameterContextName":"instantx.context","position":{"x":2416.0,"y":720.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"a5bd8144-30cc-3d42-b4ee-c416286e11d5","instanceIdentifier":"59a6a23e-8c7c-32cd-b3e7-9137957700b4","maxBackoffPeriod":"10 mins","name":"GenerateFlowFile","penaltyDuration":"30 sec","position":{"x":208.0,"y":568.0},"properties":{"character-set":"UTF-8","attributelist":"{\n\t\"message.identifier\": \"f017fce2-1e7e-4b2e-965d-fef355b253ff\",\n\t\"message.type\": \"IVIM\",\n\t\"message.format\": \"xml\",\n\t\"message.contentIndex\": 3,\n\t\"provider\": \"Commsignia\",\n\t\"customer.id\": \"public\",\n\t\"reference.longitude\": \"-5324351\",\n\t\"message.timestamp\": \"2022-08-30T11:08:13.129165Z\",\n\t\"reference.latitude\": \"517413856\",\n\t\"action\": \"UPDATE\"\n}","metadata":"{\n\t\"message.identifier\": \"f017fce2-1e7e-4b2e-965d-fef355b253ff\",\n\t\"message.type\": \"IVIM\",\n\t\"message.format\": \"xml\",\n\t\"message.contentIndex\": 3,\n\t\"provider\": \"Commsignia\",\n\t\"customer.id\": \"public\",\n\t\"reference.longitude\": \"-5324351\",\n\t\"message.timestamp\": \"2022-08-30T11:08:13.129165Z\",\n\t\"reference.latitude\": \"517413856\",\n\t\"action\": \"UPDATE\"\n}","File Size":"0B","generate-ff-custom-text":"<IvimEtsi><gbcGacHeader><basicHeader><version>1</version><nextHeader>1</nextHeader><reserved>0</reserved><lifeTime><multiplier>19</multiplier><base>0</base></lifeTime><remaingHop>1</remaingHop></basicHeader><commonHeader><nextHeader>2</nextHeader><reserved1>0</reserved1><headerType>4</headerType><headerSubType>0</headerSubType><traficClass><scf><false/></scf><channelOffload><false/></channelOffload><tcID>0</tcID></traficClass><flags><mobile><true/></mobile><reserved>0</reserved></flags><payloadLength>84</payloadLength><maxHopLimit>1</maxHopLimit><reserved2>0</reserved2></commonHeader><sequenceNumber>1</sequenceNumber><reserved1>0</reserved1><sopv><address><configuration><manual/></configuration><stationType>0</stationType><reserved>0</reserved><mid><lsb>0</lsb><msb>0</msb></mid></address><tst>3590519126</tst><latitude>412338676</latitude><longitude>-86204710</longitude><pai><false/></pai><speed>-16293</speed><heading>1</heading></sopv><geoArea><lat>412338676</lat><long>-86204710</long><distanceA>0</distanceA><distanceB>0</distanceB><angle>0</angle></geoArea><reserved2>0</reserved2></gbcGacHeader><btpb><destinationPort>2006</destinationPort><destinationPortInfo>0</destinationPortInfo></btpb><ivim><header><protocolVersion>2</protocolVersion><messageID>6</messageID><stationID>156255831</stationID></header><ivi><mandatory><serviceProviderId><countryCode>0101110011</countryCode><providerIdentifier>0</providerIdentifier></serviceProviderId><iviIdentificationNumber>1</iviIdentificationNumber><timeStamp>574821169332</timeStamp><validFrom>574821169335</validFrom><validTo>574905605000</validTo><iviStatus>0</iviStatus></mandatory><optional><glc><referencePosition><latitude>412338676</latitude><longitude>-86204710</longitude><positionConfidenceEllipse><semiMajorConfidence>4095</semiMajorConfidence><semiMinorConfidence>4095</semiMinorConfidence><semiMajorOrientation>3601</semiMajorOrientation></positionConfidenceEllipse><altitude><altitudeValue>1000</altitudeValue><altitudeConfidence><unavailable/></altitudeConfidence></altitude></referencePosition><referencePositionHeading><headingValue>1</headingValue><headingConfidence>127</headingConfidence></referencePositionHeading><referencePositionSpeed><speedValue>90</speedValue><speedConfidence>127</speedConfidence></referencePositionSpeed><parts><GlcPart><zoneId>1</zoneId><zoneHeading>2437</zoneHeading><zone><segment><line><deltaPositions><DeltaPosition><deltaLatitude>0</deltaLatitude><deltaLongitude>0</deltaLongitude></DeltaPosition><DeltaPosition><deltaLatitude>-340</deltaLatitude><deltaLongitude>-1121</deltaLongitude></DeltaPosition></deltaPositions></line></segment></zone></GlcPart></parts></glc><giv><GicPart><detectionZoneIds><Zid>4</Zid><Zid>5</Zid></detectionZoneIds><relevanceZoneIds><Zid>1</Zid><Zid>2</Zid><Zid>3</Zid></relevanceZoneIds><direction>3</direction><applicableLanes><LanePosition>2</LanePosition><LanePosition>3</LanePosition><LanePosition>4</LanePosition></applicableLanes><iviType>0</iviType><roadSignCodes><RSCode><code><iso14823><pictogramCode><countryCode>7406</countryCode><serviceCategoryCode><trafficSignPictogram><informative/></trafficSignPictogram></serviceCategoryCode><pictogramCategoryCode><nature>9</nature><serialNumber>53</serialNumber></pictogramCategoryCode></pictogramCode></iso14823></code></RSCode></roadSignCodes></GicPart></giv></optional></ivi></ivim></IvimEtsi>","Batch Size":"100","Unique FlowFiles":"false","JSONAttributes":"{\n\t\"message.identifier\": \"f017fce2-1e7e-4b2e-965d-fef355b253ff\",\n\t\"message.type\": \"IVIM\",\n\t\"message.format\": \"xml\",\n\t\"message.contentIndex\": 3,\n\t\"provider\": \"Commsignia\",\n\t\"customer.id\": \"public\",\n\t\"reference.longitude\": \"-5324351\",\n\t\"message.timestamp\": \"2022-08-30T11:08:13.129165Z\",\n\t\"reference.latitude\": \"517413856\",\n\t\"action\": \"UPDATE\"\n}","relay.errors":"true","Data Format":"Text"},"propertyDescriptors":{"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"attributelist":{"displayName":"attributelist","identifiesControllerService":false,"name":"attributelist","sensitive":false},"metadata":{"displayName":"metadata","identifiesControllerService":false,"name":"metadata","sensitive":false},"File Size":{"displayName":"File Size","identifiesControllerService":false,"name":"File Size","sensitive":false},"mime-type":{"displayName":"Mime Type","identifiesControllerService":false,"name":"mime-type","sensitive":false},"generate-ff-custom-text":{"displayName":"Custom Text","identifiesControllerService":false,"name":"generate-ff-custom-text","sensitive":false},"Batch Size":{"displayName":"Batch Size","identifiesControllerService":false,"name":"Batch Size","sensitive":false},"Unique FlowFiles":{"displayName":"Unique FlowFiles","identifiesControllerService":false,"name":"Unique FlowFiles","sensitive":false},"JSONAttributes":{"displayName":"JSONAttributes","identifiesControllerService":false,"name":"JSONAttributes","sensitive":false},"relay.errors":{"displayName":"relay.errors","identifiesControllerService":false,"name":"relay.errors","sensitive":false},"Data Format":{"displayName":"Data Format","identifiesControllerService":false,"name":"Data Format","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"DISABLED","schedulingPeriod":"10 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"95481d52-c14b-39ba-8209-e4e9f32d1db5","instanceIdentifier":"42f13d5e-cb08-1d2f-0000-00002dc0f9fe","maxBackoffPeriod":"10 mins","name":"Move hex attribute to Content","penaltyDuration":"30 sec","position":{"x":760.0,"y":1576.0},"properties":{"Regular Expression":"^(.*)$","Replacement Value":"${flowfile_content}","Evaluation Mode":"Entire text","Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Always Replace"},"propertyDescriptors":{"Regular Expression":{"displayName":"Search Value","identifiesControllerService":false,"name":"Regular Expression","sensitive":false},"Replacement Value":{"displayName":"Replacement Value","identifiesControllerService":false,"name":"Replacement Value","sensitive":false},"Evaluation Mode":{"displayName":"Evaluation Mode","identifiesControllerService":false,"name":"Evaluation Mode","sensitive":false},"Line-by-Line Evaluation Mode":{"displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"name":"Line-by-Line Evaluation Mode","sensitive":false},"Character Set":{"displayName":"Character Set","identifiesControllerService":false,"name":"Character Set","sensitive":false},"Maximum Buffer Size":{"displayName":"Maximum Buffer Size","identifiesControllerService":false,"name":"Maximum Buffer Size","sensitive":false},"Replacement Strategy":{"displayName":"Replacement Strategy","identifiesControllerService":false,"name":"Replacement Strategy","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ReplaceText","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"0458d0b2-f13a-300f-990b-6b7225bf0115","instanceIdentifier":"5c664984-6c51-3ad6-aca8-64e1b12176db","maxBackoffPeriod":"10 mins","name":"Python Encoder","penaltyDuration":"30 sec","position":{"x":2432.0,"y":512.0},"properties":{"character-set":"UTF-8","File Size":"0B","filename":"encoder_decoder.py","generate-ff-custom-text":"import sys\nimport asn1tools\nimport os\nfrom pathlib import Path\nimport json\nimport xml.etree.ElementTree as ET\nfrom binascii import hexlify\n\n\n# Debug: Log the input data\n# sys.stderr.write(f\"Input data: {input_data}\\n\")\n\ntry:  \n  \n  # Read JSON input from stdin\n  input_data = sys.stdin.read()\n\n  # messageType = os.environ.get(\"messageType\")\n  messageType = sys.argv[1]\n  # print(f\"messageType {messageType}\")\n  data_dict = json.loads(input_data)\n# sys.stderr.write(f\"Input data type: {type(data_dict)}\\n\")\n  DATA_FOLDER = os.path.join(os.path.dirname(__file__), 'asn')\n  asn1_files = [os.path.join(DATA_FOLDER, f) for f in os.listdir(DATA_FOLDER) if f.endswith('.asn')]\n  encoder = asn1tools.compile_files(asn1_files, codec='uper', any_defined_by_choices=None, encoding='utf-8', numeric_enums=False)\n  service_type = messageType\n\n# # Encode the data\n# try:\n  encoded = encoder.encode(service_type, data_dict)\n    # Debug: Log the encoded data\n    # sys.stderr.write(f\"Encoded data: {encoded}\\n\")\n  message = hexlify(encoded).decode('ascii')\n  print(message)\n  sys.exit(0)\nexcept asn1tools.codecs.EncodeError as e:\n    sys.stderr.write(f\"EncodeError: {e}\\n\")\n    sys.exit(1)","Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"File Size":{"displayName":"File Size","identifiesControllerService":false,"name":"File Size","sensitive":false},"mime-type":{"displayName":"Mime Type","identifiesControllerService":false,"name":"mime-type","sensitive":false},"filename":{"displayName":"filename","identifiesControllerService":false,"name":"filename","sensitive":false},"generate-ff-custom-text":{"displayName":"Custom Text","identifiesControllerService":false,"name":"generate-ff-custom-text","sensitive":false},"Batch Size":{"displayName":"Batch Size","identifiesControllerService":false,"name":"Batch Size","sensitive":false},"Unique FlowFiles":{"displayName":"Unique FlowFiles","identifiesControllerService":false,"name":"Unique FlowFiles","sensitive":false},"Data Format":{"displayName":"Data Format","identifiesControllerService":false,"name":"Data Format","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"DISABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"38240d2c-9785-3e44-9c46-eed417060332","instanceIdentifier":"9807a2aa-f998-3f49-b66d-9c7ea7cfc64f","maxBackoffPeriod":"10 mins","name":"Extract Encoder Attributes","penaltyDuration":"30 sec","position":{"x":760.0,"y":768.0},"properties":{"message.identifier":"${metadata:jsonPath(\"$['message.identifier']\")}","message.type":"${metadata:jsonPath(\"$['message.type']\")}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","provider":"${metadata:jsonPath(\"$['provider']\")}","message.format":"${metadata:jsonPath(\"$['message.format']\")}","message.key":"${metadata:jsonPath(\"$['message.key']\")}"},"propertyDescriptors":{"message.identifier":{"displayName":"message.identifier","identifiesControllerService":false,"name":"message.identifier","sensitive":false},"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"message.type":{"displayName":"message.type","identifiesControllerService":false,"name":"message.type","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"provider":{"displayName":"provider","identifiesControllerService":false,"name":"provider","sensitive":false},"message.format":{"displayName":"message.format","identifiesControllerService":false,"name":"message.format","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false},"message.key":{"displayName":"message.key","identifiesControllerService":false,"name":"message.key","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"96e64bc8-515c-360a-80da-a96f3e418f0b","instanceIdentifier":"42f13d07-cb08-1d2f-976d-14d5ece923a4","maxBackoffPeriod":"10 mins","name":"LogMessage","penaltyDuration":"30 sec","position":{"x":1488.0,"y":1328.0},"properties":{"log-message":"Failed to encode message as ${message.type}","log-level":"info","log-prefix":"Encoding "},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-scripting-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"5678ef2b-8f30-3ea7-a48d-1be10dbd4a7e","instanceIdentifier":"42f13d95-cb08-1d2f-0000-0000033d18e7","maxBackoffPeriod":"10 mins","name":"Convert Hex to Binary","penaltyDuration":"30 sec","position":{"x":760.0,"y":1832.0},"properties":{"Script Engine":"Groovy","Script Body":"import org.apache.commons.io.IOUtils\nimport java.nio.charset.*\nimport javax.xml.bind.DatatypeConverter;\n\ndef flowFile = session.get()\nif(!flowFile) return\n\ndef fail = false\nflowFile = session.write(flowFile, {inputStream, outputStream ->\n    try {\n\t\tdef hexData = IOUtils.toString(inputStream, StandardCharsets.UTF_8)\n\t\toutputStream.write(DatatypeConverter.parseHexBinary(hexData))\n    }\n    catch(e) {\n\t\tlog.error(\"Error during processing of validate.groovy\", e)\n\t\tsession.transfer(inputStream, REL_FAILURE)\n\t\tfail=true\n    }\n} as StreamCallback)\nif(fail){\n\tsession.transfer(flowFile, REL_FAILURE)\n\tfail = false\n} else {\n\tsession.transfer(flowFile, REL_SUCCESS)\n}"},"propertyDescriptors":{"Script File":{"displayName":"Script File","identifiesControllerService":false,"name":"Script File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Script Engine":{"displayName":"Script Engine","identifiesControllerService":false,"name":"Script Engine","sensitive":false},"Script Body":{"displayName":"Script Body","identifiesControllerService":false,"name":"Script Body","sensitive":false},"Module Directory":{"displayName":"Module Directory","identifiesControllerService":false,"name":"Module Directory","resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]},"sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.script.ExecuteScript","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"0352bd51-f9ce-3c75-b575-b89355eefb53","instanceIdentifier":"42f13d0e-cb08-1d2f-0000-000065dd6391","maxBackoffPeriod":"10 mins","name":"Check for successfull encoding","penaltyDuration":"30 sec","position":{"x":760.0,"y":1328.0},"properties":{"Routing Strategy":"Route to Property name","success":"${flowfile_content:isEmpty():not()}"},"propertyDescriptors":{"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"success":{"displayName":"success","identifiesControllerService":false,"name":"success","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"b44ea8d2-af44-3f0f-8eda-7dd4cd65b72a","instanceIdentifier":"a6c9c98a-ef2c-333f-be68-3a9bfaff4bc4","maxBackoffPeriod":"10 mins","name":"PutFile","penaltyDuration":"30 sec","position":{"x":2432.0,"y":792.0},"properties":{"Create Missing Directories":"true","Directory":"/var/lib/nifi/scripts/","Conflict Resolution Strategy":"replace"},"propertyDescriptors":{"Group":{"displayName":"Group","identifiesControllerService":false,"name":"Group","sensitive":false},"Owner":{"displayName":"Owner","identifiesControllerService":false,"name":"Owner","sensitive":false},"Create Missing Directories":{"displayName":"Create Missing Directories","identifiesControllerService":false,"name":"Create Missing Directories","sensitive":false},"Permissions":{"displayName":"Permissions","identifiesControllerService":false,"name":"Permissions","sensitive":false},"Maximum File Count":{"displayName":"Maximum File Count","identifiesControllerService":false,"name":"Maximum File Count","sensitive":false},"Last Modified Time":{"displayName":"Last Modified Time","identifiesControllerService":false,"name":"Last Modified Time","sensitive":false},"Directory":{"displayName":"Directory","identifiesControllerService":false,"name":"Directory","sensitive":false},"Conflict Resolution Strategy":{"displayName":"Conflict Resolution Strategy","identifiesControllerService":false,"name":"Conflict Resolution Strategy","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"DISABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.PutFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089","identifier":"34da338a-c0ee-3a13-b7c0-4626b1869444","instanceIdentifier":"f95c0c59-e9ca-3e13-9520-490e0df921c0","maxBackoffPeriod":"10 mins","name":"ExecuteStreamCommand","penaltyDuration":"30 sec","position":{"x":760.0,"y":1048.0},"properties":{"argumentsStrategy":"Command Arguments Property","Max Attribute Length":"256","Command Path":"/usr/bin/python3","Working Directory":"/var/lib/nifi/scripts/","Output Destination Attribute":"flowfile_content","Argument Delimiter":" ","Ignore STDIN":"false","Command Arguments":"encoder_decoder.py \"DenmEtsi\" ${message.format}"},"propertyDescriptors":{"argumentsStrategy":{"displayName":"Command Arguments Strategy","identifiesControllerService":false,"name":"argumentsStrategy","sensitive":false},"Max Attribute Length":{"displayName":"Max Attribute Length","identifiesControllerService":false,"name":"Max Attribute Length","sensitive":false},"Command Path":{"displayName":"Command Path","identifiesControllerService":false,"name":"Command Path","sensitive":false},"Working Directory":{"displayName":"Working Directory","identifiesControllerService":false,"name":"Working Directory","sensitive":false},"Output Destination Attribute":{"displayName":"Output Destination Attribute","identifiesControllerService":false,"name":"Output Destination Attribute","sensitive":false},"Argument Delimiter":{"displayName":"Argument Delimiter","identifiesControllerService":false,"name":"Argument Delimiter","sensitive":false},"Ignore STDIN":{"displayName":"Ignore STDIN","identifiesControllerService":false,"name":"Ignore STDIN","sensitive":false},"Command Arguments":{"displayName":"Command Arguments","identifiesControllerService":false,"name":"Command Arguments","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"911e672d-df67-3f8b-8891-05951ab150df","id":"a917b23d-f90b-309d-940a-1d8efdc607ea","instanceIdentifier":"84838413-37e5-3e35-94ad-1aaec8d68cf8","name":"inbound msg","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"911e672d-df67-3f8b-8891-05951ab150df","identifier":"aa1c7532-2d52-3c71-ab37-0f821ed0d0df","instanceIdentifier":"3f4c7cb0-7965-33b3-a6b5-8d1603eec318","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","id":"8c098c3b-27ff-3f6f-bdfd-8fb7b53fd00a","instanceIdentifier":"9519ca1b-33cf-36a4-aa4a-bf5d9bbbe7b7","name":"inbound msg (AMQP)","type":"OUTPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"6504a571-8433-307d-b093-63f1a28cd602","identifier":"911e672d-df67-3f8b-8891-05951ab150df","inputPorts":[],"instanceIdentifier":"fc029d51-2f58-39b2-a4ea-c70d25dbda0b","labels":[{"componentType":"LABEL","groupIdentifier":"911e672d-df67-3f8b-8891-05951ab150df","height":144.0,"identifier":"096b466e-ae1d-3b3d-9baa-9aee2fea96fa","instanceIdentifier":"d31ad1e2-1aa6-3191-8bd7-de50a6ac1c1c","label":"To Transformation Engine\n(for processing)","position":{"x":2440.0,"y":320.0},"style":{"font-size":"20px"},"width":288.0,"zIndex":0}],"name":"Interface Layer","outputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"911e672d-df67-3f8b-8891-05951ab150df","identifier":"a917b23d-f90b-309d-940a-1d8efdc607ea","instanceIdentifier":"84838413-37e5-3e35-94ad-1aaec8d68cf8","name":"inbound msg","position":{"x":2464.0,"y":392.0},"scheduledState":"ENABLED","type":"OUTPUT_PORT"}],"position":{"x":2416.0,"y":56.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","id":"62fd1074-9ee4-3ebf-83e0-42753f094f37","instanceIdentifier":"50286d8f-a936-30dd-b1ec-43e50fb2f0d3","name":"PutFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609","identifier":"3d860f99-8e06-3d4a-bc56-cfaabb109b49","instanceIdentifier":"6347db3c-9194-30c0-b238-b53710b913bb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","id":"39988728-11d3-33ab-99ce-1ab7a4b91d9b","instanceIdentifier":"eed90581-17c6-3366-a506-7cb64f6c9dba","name":"XSLT for Denm","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","id":"dc08e701-bade-3375-9c56-cfe21e21f492","instanceIdentifier":"b0c02a0e-127a-3d86-80fb-01541fc6f2d7","name":"Sucess","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609","identifier":"8e3022e2-92b4-3a91-81ea-bf46a55bd6c5","instanceIdentifier":"2c8ffbbb-8d3d-3630-93a6-68077288ca81","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","id":"62fd1074-9ee4-3ebf-83e0-42753f094f37","instanceIdentifier":"50286d8f-a936-30dd-b1ec-43e50fb2f0d3","name":"PutFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","id":"a6826c89-6df9-3a8b-93aa-b42d72939ab9","instanceIdentifier":"5210250b-6420-3110-a1f3-0effc880687b","name":"Failure","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609","identifier":"efcda100-4d18-3b0e-8b41-62d9fc1f0048","instanceIdentifier":"8a7024d0-5462-32cd-bdf5-14fcfdc21dd9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","id":"62fd1074-9ee4-3ebf-83e0-42753f094f37","instanceIdentifier":"50286d8f-a936-30dd-b1ec-43e50fb2f0d3","name":"PutFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":2632.0,"y":456.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","id":"fbd5dcd2-1489-35e7-a2fd-4ffbc8521bbd","instanceIdentifier":"405fad83-0340-34ba-bff1-c8c358170a44","name":"Mapping for SDK Generator Interface","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609","identifier":"01749047-c383-30bc-b939-c8b63ce440b1","instanceIdentifier":"caf04c0e-895c-3dc4-94f7-fd80b37d8a0c","labelIndex":0,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","id":"f42ac8cc-16ce-30e7-afd6-0548d52fe113","instanceIdentifier":"95cc0e8f-f8a7-3540-a6be-2384180ddc86","name":"GenerateFlowFile DENM","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","id":"afa9586c-ff59-359b-8b29-45a6a5cfc954","instanceIdentifier":"0bde2b20-3466-3062-970c-a27914689c3c","name":"Log Error Message","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609","identifier":"1ffb6550-c9e2-3af8-b99d-39348bd04028","instanceIdentifier":"e3af2aa9-f856-3800-9fc4-c1629f76f608","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","id":"fbd5dcd2-1489-35e7-a2fd-4ffbc8521bbd","instanceIdentifier":"405fad83-0340-34ba-bff1-c8c358170a44","name":"Mapping for SDK Generator Interface","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":2184.0,"y":272.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","id":"fbd5dcd2-1489-35e7-a2fd-4ffbc8521bbd","instanceIdentifier":"405fad83-0340-34ba-bff1-c8c358170a44","name":"Mapping for SDK Generator Interface","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609","identifier":"3baa6850-db5f-391f-b9f2-8a617ecb080c","instanceIdentifier":"c098ef1f-749f-3e84-85bd-89f896dce1f7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","id":"f9e7e18d-ecdf-3538-b573-08cf9d35d0df","instanceIdentifier":"89bab5d9-ae3d-3946-b9f7-e50e345d97df","name":"AMQP (Vodafone) DENM","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":2184.0,"y":600.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","id":"8c098c3b-27ff-3f6f-bdfd-8fb7b53fd00a","instanceIdentifier":"9519ca1b-33cf-36a4-aa4a-bf5d9bbbe7b7","name":"inbound msg (AMQP)","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609","identifier":"fd883b56-84b9-37d8-9774-bf9be0a9a494","instanceIdentifier":"81aa5368-5732-36b0-8ae2-ae3d70e11846","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","id":"fbd5dcd2-1489-35e7-a2fd-4ffbc8521bbd","instanceIdentifier":"405fad83-0340-34ba-bff1-c8c358170a44","name":"Mapping for SDK Generator Interface","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"911e672d-df67-3f8b-8891-05951ab150df","identifier":"e41b9db3-08a6-3a35-ab81-b658c355e609","inputPorts":[],"instanceIdentifier":"3dcc8b9d-6248-39a4-aea7-1e741f17e499","labels":[{"componentType":"LABEL","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609","height":192.0,"identifier":"9b7ddf90-7fd5-33fe-b8a1-ef7adc1b195e","instanceIdentifier":"29dc5454-74d5-3ef5-be6b-9758eedf7aa3","label":"                    Error Logging","position":{"x":1352.0,"y":352.0},"style":{"font-size":"24px"},"width":392.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609","height":96.0,"identifier":"2adbd407-1358-3d1e-86f1-2b9f189cac5f","instanceIdentifier":"1081eb6b-2207-3f1b-9626-1a0638010e5b","label":"           \n                   TESTING FLOW","position":{"x":2456.0,"y":-32.0},"style":{"font-size":"22px"},"width":352.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609","height":96.0,"identifier":"521ef6af-badf-3ed9-afca-db555a831d7f","instanceIdentifier":"d5ce3491-58ce-3a80-a67f-964b0598c19a","label":"DENM\nDENM.private.1_3_1.3","position":{"x":2008.0,"y":-32.0},"style":{"font-size":"22px"},"width":352.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609","height":64.0,"identifier":"fc0c8d7f-07c6-3d75-8ba2-dace96af4b77","instanceIdentifier":"ac046607-789f-34b0-9449-54ac74b6deea","label":"To Upload XSLT Files (DENM)","position":{"x":3280.0,"y":8.0},"style":{"font-size":"24px"},"width":352.0,"zIndex":0}],"name":"Inbound (AMQP) Interface","outputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609","identifier":"dc08e701-bade-3375-9c56-cfe21e21f492","instanceIdentifier":"b0c02a0e-127a-3d86-80fb-01541fc6f2d7","name":"Sucess","position":{"x":3896.0,"y":600.0},"scheduledState":"DISABLED","type":"OUTPUT_PORT"},{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609","identifier":"8c098c3b-27ff-3f6f-bdfd-8fb7b53fd00a","instanceIdentifier":"9519ca1b-33cf-36a4-aa4a-bf5d9bbbe7b7","name":"inbound msg (AMQP)","position":{"x":2064.0,"y":688.0},"scheduledState":"ENABLED","type":"OUTPUT_PORT"},{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609","identifier":"a6826c89-6df9-3a8b-93aa-b42d72939ab9","instanceIdentifier":"5210250b-6420-3110-a1f3-0effc880687b","name":"Failure","position":{"x":3888.0,"y":248.0},"scheduledState":"DISABLED","type":"OUTPUT_PORT"}],"parameterContextName":"instantx.context","position":{"x":2392.0,"y":-80.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609","identifier":"39988728-11d3-33ab-99ce-1ab7a4b91d9b","instanceIdentifier":"eed90581-17c6-3366-a506-7cb64f6c9dba","maxBackoffPeriod":"10 mins","name":"XSLT for Denm","penaltyDuration":"30 sec","position":{"x":3280.0,"y":80.0},"properties":{"character-set":"UTF-8","File Size":"0B","filename":"transform_denm.xslt","generate-ff-custom-text":"<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\n<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\">\n<xsl:output method=\"xml\" indent=\"yes\" omit-xml-declaration=\"yes\" />\n<xsl:template match=\"/ | node()\">\n      <DenmEtsi>\n\t\t  <gbcGacHeader>\n\t\t\t<basicHeader>\n\t\t\t  <version>1</version>\n\t\t\t  <nextHeader>1</nextHeader>\n\t\t\t  <reserved>0</reserved>\n\t\t\t  <lifeTime>\n\t\t\t\t<multiplier>19</multiplier>\n\t\t\t\t<base>0</base>\n\t\t\t  </lifeTime>\n\t\t\t  <remaingHop>1</remaingHop>\n\t\t\t</basicHeader>\n\t\t\t<commonHeader>\n\t\t\t  <nextHeader>2</nextHeader>\n\t\t\t  <reserved1>0</reserved1>\n\t\t\t  <headerType>4</headerType>\n\t\t\t  <headerSubType>0</headerSubType>\n\t\t\t  <traficClass>\n\t\t\t\t<scf>\n\t\t\t\t  <false/>\n\t\t\t\t</scf>\n\t\t\t\t<channelOffload>\n\t\t\t\t  <false/>\n\t\t\t\t</channelOffload>\n\t\t\t\t<tcID>0</tcID>\n\t\t\t  </traficClass>\n\t\t\t  <flags>\n\t\t\t\t<mobile>\n\t\t\t\t  <true/>\n\t\t\t\t</mobile>\n\t\t\t\t<reserved>0</reserved>\n\t\t\t  </flags>\n\t\t\t  <payloadLength>0</payloadLength>\n\t\t\t  <maxHopLimit>1</maxHopLimit>\n\t\t\t  <reserved2>0</reserved2>\n\t\t\t</commonHeader>\n\t\t\t<sequenceNumber>1</sequenceNumber>\n\t\t\t<reserved1>0</reserved1>\n\t\t\t<sopv>\n\t\t\t  <address>\n\t\t\t\t<configuration>\n\t\t\t\t  <manual/>\n\t\t\t\t</configuration>\n\t\t\t\t<stationType>0</stationType>\n\t\t\t\t<reserved>0</reserved>\n\t\t\t\t<mid>\n\t\t\t\t  <lsb>0</lsb>\n\t\t\t\t  <msb>0</msb>\n\t\t\t\t</mid>\n\t\t\t  </address>\n\t\t\t  <tst>##Timestamp##</tst>\n\t\t\t  <latitude>##Latitude##</latitude>\n\t\t\t  <longitude>##Longitude##</longitude>\n\t\t\t  <pai>\n\t\t\t\t<false/>\n\t\t\t  </pai>\n\t\t\t  <speed>-16383</speed>\n\t\t\t  <heading>0</heading>\n\t\t\t</sopv>\n\t\t\t<geoArea>\n\t\t\t  <lat>##Latitude##</lat>\n\t\t\t  <long>##Longitude##</long>\n\t\t\t  <distanceA>0</distanceA>\n\t\t\t  <distanceB>0</distanceB>\n\t\t\t  <angle>0</angle>\n\t\t\t</geoArea>\n\t\t\t<reserved2>0</reserved2>\n\t\t  </gbcGacHeader>\n\t\t  <btpb>\n\t\t\t<destinationPort>2002</destinationPort>\n\t\t\t<destinationPortInfo>0</destinationPortInfo>\n\t\t  </btpb>\n\t\t<xsl:apply-templates/>\n\t</DenmEtsi>\n</xsl:template>\n\n<xsl:template match=\"DENM\">\n    <denm>\n        <xsl:apply-templates/>\n    </denm>\n</xsl:template>\n\n<xsl:template match=\"DENM/header\">\n    <xsl:copy-of select=\".\" />\n</xsl:template>\n\n<xsl:template match=\"DENM/denm/*|node()\">\n    <xsl:copy>\n        <xsl:apply-templates/>\n    </xsl:copy>\n</xsl:template>\n\n<xsl:template match=\"altitudeConfidence\">\n<xsl:copy>\n<xsl:choose>\n  <xsl:when test=\"text() = 0\"><alt-000-01/></xsl:when>\n  <xsl:when test=\"text() = 1\"><alt-000-02/></xsl:when>\n  <xsl:when test=\"text() = 2\"><alt-000-05/></xsl:when>\n  <xsl:when test=\"text() = 3\"><alt-000-10/></xsl:when>\n  <xsl:when test=\"text() = 4\"><alt-000-20/></xsl:when>\n  <xsl:when test=\"text() = 5\"><alt-000-50/></xsl:when>\n  <xsl:when test=\"text() = 6\"><alt-001-00/></xsl:when>\n  <xsl:when test=\"text() = 7\"><alt-002-00/></xsl:when>\n  <xsl:when test=\"text() = 8\"><alt-005-00/></xsl:when>\n  <xsl:when test=\"text() = 9\"><alt-010-00/></xsl:when>\n  <xsl:when test=\"text() = 10\"><alt-020-00/></xsl:when>\n  <xsl:when test=\"text() = 11\"><alt-050-00/></xsl:when>\n  <xsl:when test=\"text() = 12\"><alt-100-00/></xsl:when>\n  <xsl:when test=\"text() = 13\"><alt-200-00/></xsl:when>\n  <xsl:when test=\"text() = 14\"><outOfRange/></xsl:when>\n  <xsl:when test=\"text() = 15\"><unavailable/></xsl:when>\n  <xsl:otherwise><unavailable/></xsl:otherwise>\n</xsl:choose>\n</xsl:copy>\n</xsl:template>\n   \n<xsl:template match=\"relevanceTrafficDirection \">\n<xsl:copy>\n<xsl:choose>\n  <xsl:when test=\"text() = 0\"><allTrafficDirections/></xsl:when>\n  <xsl:when test=\"text() = 1\"><upstreamTraffic/></xsl:when>\n  <xsl:when test=\"text() = 2\"><downstreamTraffic/></xsl:when>\n  <xsl:when test=\"text() = 3\"><oppositeTraffic/></xsl:when>\n  <xsl:otherwise><allTrafficDirections/></xsl:otherwise>\n</xsl:choose>\n</xsl:copy>\n</xsl:template>\n\n<xsl:template match=\"relevanceDistance\">\n<xsl:copy>\n<xsl:choose>\n  <xsl:when test=\"text() = 0\"><lessThan50m/></xsl:when>\n  <xsl:when test=\"text() = 1\"><lessThan100m/></xsl:when>\n  <xsl:when test=\"text() = 2\"><lessThan200m/></xsl:when>\n  <xsl:when test=\"text() = 3\"><lessThan500m/></xsl:when>\n  <xsl:when test=\"text() = 4\"><lessThan1000m/></xsl:when>\n  <xsl:when test=\"text() = 5\"><lessThan5km/></xsl:when>\n  <xsl:when test=\"text() = 6\"><lessThan10km/></xsl:when>\n  <xsl:when test=\"text() = 7\"><over10km/></xsl:when>\n  <xsl:otherwise><over10km/></xsl:otherwise>\n</xsl:choose>\n</xsl:copy>\n</xsl:template>\n\n<xsl:template match=\"termination\">\n<xsl:copy>\n<xsl:choose>\n  <xsl:when test=\"text() = 0\"><isCancellation/></xsl:when>\n  <xsl:when test=\"text() = 1\"><isNegation/></xsl:when>\n  <xsl:when test=\"self::termination[isNegation]\"><isNegation/></xsl:when>\n</xsl:choose>\n</xsl:copy>\n</xsl:template>\n\n \n</xsl:stylesheet>","Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"File Size":{"displayName":"File Size","identifiesControllerService":false,"name":"File Size","sensitive":false},"mime-type":{"displayName":"Mime Type","identifiesControllerService":false,"name":"mime-type","sensitive":false},"filename":{"displayName":"filename","identifiesControllerService":false,"name":"filename","sensitive":false},"generate-ff-custom-text":{"displayName":"Custom Text","identifiesControllerService":false,"name":"generate-ff-custom-text","sensitive":false},"Batch Size":{"displayName":"Batch Size","identifiesControllerService":false,"name":"Batch Size","sensitive":false},"Unique FlowFiles":{"displayName":"Unique FlowFiles","identifiesControllerService":false,"name":"Unique FlowFiles","sensitive":false},"Data Format":{"displayName":"Data Format","identifiesControllerService":false,"name":"Data Format","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"DISABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"PRIMARY","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609","identifier":"f42ac8cc-16ce-30e7-afd6-0548d52fe113","instanceIdentifier":"95cc0e8f-f8a7-3540-a6be-2384180ddc86","maxBackoffPeriod":"10 mins","name":"GenerateFlowFile DENM","penaltyDuration":"30 sec","position":{"x":2456.0,"y":80.0},"properties":{"character-set":"UTF-8","File Size":"0B","amqp$routingKey":"DENM.private.1_3_1.3","generate-ff-custom-text":"{\n\t\"messageId\": \"68c36d7b-b2e9-4110-a8f6-8ccc20834af0\",\n\t\"customerId\": \"public\",\n\t\"referencePositionLat\": 309965575,\n\t\"referencePositionLon\": 286933636,\n\t\"disseminationAreaType\": 0,\n\t\"disseminationAreaLat\": 309965575,\n\t\"disseminationAreaLon\": 286933636,\n\t\"disseminationAreaDistA\": 1500,\n\t\"disseminationAreaDistB\": 0,\n\t\"disseminationAreaAngle\": 0,\n\t\"referenceTime\": \"2023-12-06T15:23:01.000576Z\",\n\t\"actionIdStationId\": 166163,\n\t\"actionIdSequenceNumber\": 1,\n\t\"validityDuration\": 600,\n\t\"denm\": \"<DENM><header><protocolVersion>2</protocolVersion><messageID>1</messageID><stationID>166163</stationID></header><denm><management><actionID><originatingStationID>166163</originatingStationID><sequenceNumber>1</sequenceNumber></actionID><detectionTime>628911900</detectionTime><referenceTime>628911900</referenceTime><eventPosition><latitude>309965575</latitude><longitude>286933636</longitude><positionConfidenceEllipse><semiMajorConfidence>4095</semiMajorConfidence><semiMinorConfidence>4095</semiMinorConfidence><semiMajorOrientation>3601</semiMajorOrientation></positionConfidenceEllipse><altitude><altitudeValue>0</altitudeValue><altitudeConfidence><unavailable/></altitudeConfidence></altitude></eventPosition><relevanceDistance><lessThan200m/></relevanceDistance><validityDuration>60</validityDuration><stationType>5</stationType></management><situation><informationQuality>0</informationQuality><eventType><causeCode>3</causeCode><subCauseCode>1</subCauseCode></eventType><eventHistory><EventPoint><eventPosition><deltaLatitude>-839</deltaLatitude><deltaLongitude>8431</deltaLongitude><deltaAltitude>0</deltaAltitude></eventPosition><informationQuality>0</informationQuality></EventPoint></eventHistory></situation><location><eventPositionHeading><headingValue>0</headingValue><headingConfidence>127</headingConfidence></eventPositionHeading><traces><PathHistory><PathPoint><pathPosition><deltaLatitude>-429</deltaLatitude><deltaLongitude>-27</deltaLongitude><deltaAltitude>0</deltaAltitude></pathPosition></PathPoint><PathPoint><pathPosition><deltaLatitude>-7872</deltaLatitude><deltaLongitude>79</deltaLongitude><deltaAltitude>0</deltaAltitude></pathPosition></PathPoint></PathHistory></traces></location></denm></DENM>\"\n}","Batch Size":"1","Unique FlowFiles":"false","amqp$contentType":"text/plain","amqp$deliveryMode":"2","amqp$exchange":"DENM","Data Format":"Text"},"propertyDescriptors":{"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"File Size":{"displayName":"File Size","identifiesControllerService":false,"name":"File Size","sensitive":false},"mime-type":{"displayName":"Mime Type","identifiesControllerService":false,"name":"mime-type","sensitive":false},"amqp$routingKey":{"displayName":"amqp$routingKey","identifiesControllerService":false,"name":"amqp$routingKey","sensitive":false},"generate-ff-custom-text":{"displayName":"Custom Text","identifiesControllerService":false,"name":"generate-ff-custom-text","sensitive":false},"Batch Size":{"displayName":"Batch Size","identifiesControllerService":false,"name":"Batch Size","sensitive":false},"Unique FlowFiles":{"displayName":"Unique FlowFiles","identifiesControllerService":false,"name":"Unique FlowFiles","sensitive":false},"amqp$contentType":{"displayName":"amqp$contentType","identifiesControllerService":false,"name":"amqp$contentType","sensitive":false},"amqp$deliveryMode":{"displayName":"amqp$deliveryMode","identifiesControllerService":false,"name":"amqp$deliveryMode","sensitive":false},"amqp$exchange":{"displayName":"amqp$exchange","identifiesControllerService":false,"name":"amqp$exchange","sensitive":false},"Data Format":{"displayName":"Data Format","identifiesControllerService":false,"name":"Data Format","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"1 min","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609","identifier":"62fd1074-9ee4-3ebf-83e0-42753f094f37","instanceIdentifier":"50286d8f-a936-30dd-b1ec-43e50fb2f0d3","maxBackoffPeriod":"10 mins","name":"PutFile","penaltyDuration":"30 sec","position":{"x":3280.0,"y":360.0},"properties":{"Create Missing Directories":"true","Directory":"/var/lib/nifi/xslt/","Conflict Resolution Strategy":"replace"},"propertyDescriptors":{"Group":{"displayName":"Group","identifiesControllerService":false,"name":"Group","sensitive":false},"Owner":{"displayName":"Owner","identifiesControllerService":false,"name":"Owner","sensitive":false},"Create Missing Directories":{"displayName":"Create Missing Directories","identifiesControllerService":false,"name":"Create Missing Directories","sensitive":false},"Permissions":{"displayName":"Permissions","identifiesControllerService":false,"name":"Permissions","sensitive":false},"Maximum File Count":{"displayName":"Maximum File Count","identifiesControllerService":false,"name":"Maximum File Count","sensitive":false},"Last Modified Time":{"displayName":"Last Modified Time","identifiesControllerService":false,"name":"Last Modified Time","sensitive":false},"Directory":{"displayName":"Directory","identifiesControllerService":false,"name":"Directory","sensitive":false},"Conflict Resolution Strategy":{"displayName":"Conflict Resolution Strategy","identifiesControllerService":false,"name":"Conflict Resolution Strategy","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"DISABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.PutFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609","identifier":"afa9586c-ff59-359b-8b29-45a6a5cfc954","instanceIdentifier":"0bde2b20-3466-3062-970c-a27914689c3c","maxBackoffPeriod":"10 mins","name":"Log Error Message","penaltyDuration":"30 sec","position":{"x":1376.0,"y":392.0},"properties":{"log-message":"Error while processing message","log-level":"error","log-prefix":"#{logging.prefix.provider}"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-amqpconsumer-nar","group":"com.vodafone.v2x.nifi.processors","version":"1.3"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"PRIMARY","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609","identifier":"f9e7e18d-ecdf-3538-b573-08cf9d35d0df","instanceIdentifier":"89bab5d9-ae3d-3946-b9f7-e50e345d97df","maxBackoffPeriod":"10 mins","name":"AMQP (Vodafone) DENM","penaltyDuration":"30 sec","position":{"x":2008.0,"y":80.0},"properties":{"User Name":"#{rabbitmq.server.username}","use-proxy":"false","ssl-client-auth":"NONE","Exchange Name":"","batch.size":"10","Port":"#{rabbitmq.server.port.ssl}","cert-authentication":"false","auto.acknowledge":"false","Host Name":"#{rabbitmq.server.host.fqdn}","Proxy Type":"HTTP","AMQP Version":"0.9.1","Binding Key":"#{amqp.routingkey.generator.denm}","Queue":"","Password":"#{rabbitmq.server.password}"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"ssl-context-service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"ssl-context-service","sensitive":false},"User Name":{"displayName":"User Name","identifiesControllerService":false,"name":"User Name","sensitive":false},"use-proxy":{"displayName":"Use Proxy?","identifiesControllerService":false,"name":"use-proxy","sensitive":false},"ssl-client-auth":{"displayName":"Client Auth","identifiesControllerService":false,"name":"ssl-client-auth","sensitive":false},"Exchange Name":{"displayName":"Exchange Name","identifiesControllerService":false,"name":"Exchange Name","sensitive":false},"batch.size":{"displayName":"Batch Size","identifiesControllerService":false,"name":"batch.size","sensitive":false},"Port":{"displayName":"Port","identifiesControllerService":false,"name":"Port","sensitive":false},"Brokers":{"displayName":"Brokers","identifiesControllerService":false,"name":"Brokers","sensitive":false},"cert-authentication":{"displayName":"Use Client Certificate Authentication","identifiesControllerService":false,"name":"cert-authentication","sensitive":false},"auto.acknowledge":{"displayName":"Auto-Acknowledge Messages","identifiesControllerService":false,"name":"auto.acknowledge","sensitive":false},"Host Name":{"displayName":"Host Name","identifiesControllerService":false,"name":"Host Name","sensitive":false},"Proxy Type":{"displayName":"Proxy Type","identifiesControllerService":false,"name":"Proxy Type","sensitive":false},"Proxy Port":{"displayName":"Proxy Port","identifiesControllerService":false,"name":"Proxy Port","sensitive":false},"AMQP Version":{"displayName":"AMQP Version","identifiesControllerService":false,"name":"AMQP Version","sensitive":false},"Binding Key":{"displayName":"Binding Key","identifiesControllerService":false,"name":"Binding Key","sensitive":false},"Virtual Host":{"displayName":"Virtual Host","identifiesControllerService":false,"name":"Virtual Host","sensitive":false},"Queue":{"displayName":"Queue","identifiesControllerService":false,"name":"Queue","sensitive":false},"Password":{"displayName":"Password","identifiesControllerService":false,"name":"Password","sensitive":true}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"DISABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"com.vodafone.v2x.nifi.processors.processors.amqpconsumer.ConsumeAMQP","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-scripting-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609","identifier":"fbd5dcd2-1489-35e7-a2fd-4ffbc8521bbd","instanceIdentifier":"405fad83-0340-34ba-bff1-c8c358170a44","maxBackoffPeriod":"10 mins","name":"Mapping for SDK Generator Interface","penaltyDuration":"30 sec","position":{"x":2008.0,"y":392.0},"properties":{"Script Engine":"Groovy","Script Body":"import org.apache.commons.io.IOUtils\nimport java.nio.charset.*\nimport groovy.json.JsonSlurper;\nimport java.time.LocalDate;\nimport java.time.ZoneId;\nimport java.util.Calendar;\nimport java.util.Date;\nimport groovy.json.JsonOutput \n\ndef flowFile = session.get();\nif(!flowFile) return\n\nif (flowFile!= null){\n\n  def jsonSlurper = new JsonSlurper();\n  def object;\n  def amqp_rotingkey = flowFile.getAttribute('amqp$routingKey');\n  def format = \"yyyy-MM-dd'T'HH:mm:ss.SSSSSS'Z'\";\n  def format_timezone = \"yyyy-MM-dd'T'HH:mm:ss.SSSSSSXXX\";\n  def duration_multiplier = 1000;\n  def amqp_exchange = flowFile.getAttribute('amqp$exchange').toLowerCase();\n  def msg_identifier='';\n  def msg_seq='';\n  def ref_time_fix;\n  def ref_time;\n  def validation_to;\n  def validation_duration=''; \n  def msg_timeStamp; \n  def content='';\n  def reference_latitude, reference_longitude,customer_id,actionObject='';\n  def msg_iden_seq;\n  def amq_msg = amqp_rotingkey.tokenize(\".\")[3]\n\n  flowFile = session.write(flowFile, {inputStream, outputStream ->\n      //def text = IOUtils.toString(inputStream, StandardCharsets.UTF_8).replaceAll('\\\\\\\\', '');\n      def text = IOUtils.toString(inputStream, StandardCharsets.UTF_8).replaceAll('\\\\\\\\', '').replaceAll('\\n','').replace('<?xml version=\\\"1.0\\\"?>','');\n      object = jsonSlurper.parseText(text);\n      if (object.denm != null || object.ivim != null ){\n        if (object.denm != null){\n          content = object.denm;\n          msg_identifier = object.actionIdStationId.toString();\n          msg_seq = object.actionIdSequenceNumber.toString();\n          msg_timeStamp = object.referenceTime;\n          reference_latitude = object.referencePositionLat.toString();\n          reference_longitude = object.referencePositionLon.toString();\n          customer_id = object.customerId;\n        }else if (object.ivim != null){\n            content = object.ivim;\n            actionObject = object.ivimType\n            msg_identifier = object.ivimId.toString();\n            msg_timeStamp = object.timestamp;\n            reference_latitude = object.referencePositionLat.toString();\n            reference_longitude = object.referencePositionLon.toString();\n            customer_id = object.customerId;\n        }\n        if (object.referenceTimez!=null){\n          ref_time_fix= object.referenceTimez;\n        }else{\n            ref_time_fix ='';\n        }\n        if (object.validTo!=null){\n          validation_to = object.validTo;\n        }\n        if (object.validityDuration!=null){\n          validation_duration = object.validityDuration.toString();\n        }\n        if(object.referenceTime!=null){\n          ref_time = object.referenceTime;\n        }else {\n          ref_time ='';\n        }\n      }\n      outputStream.write(content.getBytes(StandardCharsets.UTF_8));\n\n  } as StreamCallback)\nif (object.denm != null || object.ivim != null ){\n  // putting attributes:   \n  session.putAttribute(flowFile, \"relay.errors\",\"true\");\n  session.putAttribute(flowFile, \"provider\",\"GENERATOR\");\n  session.putAttribute(flowFile, \"message.contentIndex\",amq_msg);\n\n  session.putAttribute(flowFile, \"message.identifier\",msg_identifier);\n  session.putAttribute(flowFile, \"message.identifier.sequence\",msg_seq);\n  session.putAttribute(flowFile, \"message.timestamp\",msg_timeStamp);\n  session.putAttribute(flowFile, \"reference.latitude\",reference_latitude);\n  session.putAttribute(flowFile, \"reference.longitude\",reference_longitude);\n  session.putAttribute(flowFile, \"customer.id\",customer_id);\n  session.putAttribute(flowFile, \"action\",actionObject);\n  session.putAttribute(flowFile, \"reference.time.fix\",ref_time_fix);\n  session.putAttribute(flowFile, \"reference.time\",ref_time);\n  session.putAttribute(flowFile, \"validation.duration\",validation_duration);\n  session.putAttribute(flowFile, \"validation.to\",validation_to.toString());\n\n  // second processor\n  if (msg_seq!=null && !msg_seq.empty){\n    msg_iden_seq =  msg_identifier + \"-\" + msg_seq;\n    session.putAttribute(flowFile, \"message.identifier\",msg_iden_seq);\n  }\n  \n  if (validation_to!=null ){\n    if (validation_to.length() > 24) {\n      validation_to = Date.parse(format, validation_to.substring(0,23) + 'Z').getTime();\n    } else {\n      validation_to = Date.parse(format, validation_to).getTime();\n\t}\n    session.putAttribute(flowFile, \"validation.to\",validation_to.toString());\n  }\n\n  // 3th processor\n  def date = new Date();\n  def msg_startTime = date.getTime();\n  session.putAttribute(flowFile, \"message.startTime\",msg_startTime.toString());\n\n  def msg_timeStampTime;\n  if (msg_timeStamp!=null && ! msg_timeStamp.empty){\n  \tif (msg_timeStamp.length() > 29) {\n      def msg_timeStampParse = Date.parse(format_timezone, msg_timeStamp);\n      msg_timeStampTime = msg_timeStampParse.getTime();\n    } else {\n      def msg_timeStampParse= Date.parse(format, msg_timeStamp);\n      msg_timeStampTime = msg_timeStampParse.getTime();\n    }\n    session.putAttribute(flowFile, \"message.timestamp\",msg_timeStampTime.toString());\n  }\n  //4th processor \n  if (validation_to==null  && validation_duration!=null ){\n    validation_to = msg_timeStampTime + ((validation_duration.toInteger()) * duration_multiplier);\n    session.putAttribute(flowFile, \"validation.to\",validation_to.toString());\n  }\n    //message.type\n  session.putAttribute(flowFile, \"message.type\",amqp_exchange);\n  //message.format\n  def msg_formart='';\n  if (amq_msg.equalsIgnoreCase('0') ){\n    msg_formart='binary';\n  }else if (amq_msg.equalsIgnoreCase('1')){\n      msg_formart='base64';\n  }else if(amq_msg.equalsIgnoreCase('2')){\n    msg_formart='json';\n  }else if (amq_msg.equalsIgnoreCase('3') || amq_msg.equalsIgnoreCase('4') || amq_msg.equalsIgnoreCase('5')){\n    msg_formart='xml';\n  }\n  session.putAttribute(flowFile, \"message.format\",msg_formart);\n  //message.key\n  def msg_identifier_transform='';\n  if (msg_iden_seq!=null){\n    msg_identifier_transform =  msg_iden_seq;\n  }else{\n    msg_identifier_transform = msg_identifier;\n  }\n  def message_key = \"GENERATOR\" + \"_\"+amqp_exchange +\"_\"+ msg_identifier_transform;\n  session.putAttribute(flowFile, \"message.key\",message_key);\n\n  // 5TH process\n  if (amqp_exchange.equalsIgnoreCase('denm')){\n    // 6th process\n    if (content.toString().contains(\"termination\")){\n      actionObject = \"CANCEL\";\n      session.putAttribute(flowFile, \"action\",\"CANCEL\");\n    }else{\n      actionObject = \"UPDATE\";\n      session.putAttribute(flowFile, \"action\",\"UPDATE\");\n    }\n  }\n\n  session.putAttribute(flowFile, \"transform.spec.filename\",\"transform_denm.xslt\");\n\n  // create JSONAttributes\n  def json = JsonOutput.toJson([\"message.identifier\":msg_identifier_transform,\"message.type\":amqp_exchange,\"message.format\":msg_formart,\"message.timestamp\":msg_timeStampTime.toString(),\"message.contentIndex\":amq_msg,\"customer.id\":object.customerId,\"provider\":\"GENERATOR\",\"reference.longitude\":reference_longitude,\"reference.latitude\":reference_latitude,\"action\":actionObject,\"validation.to\":validation_to,\"message.startTime\":msg_startTime.toString(),\"message.key\":message_key,\"reference.time\":ref_time,\"transform.spec.filename\":\"transform_denm.xslt\"]);\n\n  session.putAttribute(flowFile, \"metadata\",json);\n  \n  session.transfer(flowFile, REL_SUCCESS);\n  }else{\n    session.transfer(flowFile, REL_FAILURE);\n  }\n}"},"propertyDescriptors":{"Script File":{"displayName":"Script File","identifiesControllerService":false,"name":"Script File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Script Engine":{"displayName":"Script Engine","identifiesControllerService":false,"name":"Script Engine","sensitive":false},"Script Body":{"displayName":"Script Body","identifiesControllerService":false,"name":"Script Body","sensitive":false},"Module Directory":{"displayName":"Module Directory","identifiesControllerService":false,"name":"Module Directory","resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]},"sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.script.ExecuteScript","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"3e821b34-aebf-39d8-827e-867d1cc42c59","instanceIdentifier":"880f0b02-fe71-3d2b-86fa-bf31abd77ec5","name":"LogMessage","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"180242be-9eeb-3f64-b758-be9bfa13b33e","instanceIdentifier":"c2ab1980-f53f-3dc6-bc89-546456a4284b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"36feaeef-8d4a-3b8e-ab0f-cdc111ee9021","instanceIdentifier":"09ee8a4d-76b6-3b17-94ac-b46c221232e4","name":"[Headers] Updates Values (script)","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"6242682e-9bac-3b53-9d7b-9d64516d90c8","instanceIdentifier":"f3b21d62-a55e-3a94-a664-0c7557e81a82","name":"TransformXml","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"949fac3a-6a60-3cf7-9644-d1eb85aa174d","instanceIdentifier":"f39fa338-8523-3587-8196-9f0a50314268","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"5f6240c7-c640-3838-abf4-25d82775d556","instanceIdentifier":"a78c1bf3-c573-3af9-b8ed-ba45767e3858","name":"Avoid Special characters","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":1136.0,"y":184.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"2d0a3568-e7ad-393d-bf91-cd932258e6b4","instanceIdentifier":"af394741-7c60-3476-945a-4ccbefab62bc","name":"Route on Provider (Rules)","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"92eae6af-d2b4-329a-9f27-fb7dcb6041c2","instanceIdentifier":"70cc62c8-812d-3078-ad86-d2f01d601e6e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["xml"],"source":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"fc268081-cf7d-3055-977b-f5e449a7f9c2","instanceIdentifier":"9447a4aa-3e31-359a-9921-e0d6a0696e1a","name":"Route On Format (Json / Xml)","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":1944.0,"y":184.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"95304a75-3623-3962-a00d-e735f966665c","instanceIdentifier":"f759c65b-c1ce-3a24-9c55-c9037d2f5eed","name":"Retain filtered messages","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"68490817-3309-37f1-acb2-fce3df75f079","instanceIdentifier":"4c4f3a67-b03d-39f0-ab7f-bd3210356649","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["filtered"],"source":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"2d0a3568-e7ad-393d-bf91-cd932258e6b4","instanceIdentifier":"af394741-7c60-3476-945a-4ccbefab62bc","name":"Route on Provider (Rules)","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"0c362fc6-4ddc-3666-9dcb-d8b35ce9b0ee","instanceIdentifier":"1e241489-8868-3aef-9efd-a9e4115b21f4","name":"Extract Transform Attributes","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"31b76dd0-461c-3024-b6e9-cd1df2fa271e","instanceIdentifier":"a9b9789e-4e38-3d92-ab60-6b8fad87f7d3","labelIndex":0,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"c7fdca7d-597a-389a-aac6-ca7962e5a3e4","instanceIdentifier":"5388bc09-28af-37a5-89dd-1b7ed4061409","name":"input","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"f2b28187-6216-3c02-94ef-0a32d1d66822","instanceIdentifier":"1ea54349-018e-3015-997c-01138b332eb8","name":"LogMessage","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"eb601a4d-8db3-3a2b-a4fe-8d73fbc2d7e0","instanceIdentifier":"ed23bd50-1193-36a8-9f96-f2bb731b7ccc","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"fc268081-cf7d-3055-977b-f5e449a7f9c2","instanceIdentifier":"9447a4aa-3e31-359a-9921-e0d6a0696e1a","name":"Route On Format (Json / Xml)","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"36feaeef-8d4a-3b8e-ab0f-cdc111ee9021","instanceIdentifier":"09ee8a4d-76b6-3b17-94ac-b46c221232e4","name":"[Headers] Updates Values (script)","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"9296b584-c643-3275-bea5-487f0521484b","instanceIdentifier":"716f1949-05cd-310b-b844-8eb441128073","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"6242682e-9bac-3b53-9d7b-9d64516d90c8","instanceIdentifier":"f3b21d62-a55e-3a94-a664-0c7557e81a82","name":"TransformXml","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"b0a156d1-c226-3abe-a7a2-e2fbb1713335","instanceIdentifier":"a1e3831d-7a68-3b5d-8c1d-77c87283d325","name":"for processing (from Transform)","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"b624f9ac-43e9-3153-bd2d-45b1714fa91f","instanceIdentifier":"36ab0f5b-a07a-3a28-955a-df9bc6894bbb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"e135f8ef-12ae-3507-870b-3c25e1b4877a","instanceIdentifier":"b5807d96-2a2f-35bc-92cd-a2a0c66535c4","name":"Route on Provider (Rules)","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"e135f8ef-12ae-3507-870b-3c25e1b4877a","instanceIdentifier":"b5807d96-2a2f-35bc-92cd-a2a0c66535c4","name":"Route on Provider (Rules)","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"eff7abeb-80ae-3778-84e5-e897146319aa","instanceIdentifier":"d45d1f22-735a-3a3c-a0b1-8ec83d044c75","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"36feaeef-8d4a-3b8e-ab0f-cdc111ee9021","instanceIdentifier":"09ee8a4d-76b6-3b17-94ac-b46c221232e4","name":"[Headers] Updates Values (script)","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":1648.0,"y":384.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"5f6240c7-c640-3838-abf4-25d82775d556","instanceIdentifier":"a78c1bf3-c573-3af9-b8ed-ba45767e3858","name":"Avoid Special characters","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"048e9664-3933-31be-9952-7b904cb08633","instanceIdentifier":"1781f26c-e0ed-324a-9d73-549b9b31f55f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"95304a75-3623-3962-a00d-e735f966665c","instanceIdentifier":"f759c65b-c1ce-3a24-9c55-c9037d2f5eed","name":"Retain filtered messages","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"6944060b-7529-3665-b754-03f35178598a","instanceIdentifier":"f596af03-28e4-31d2-9c95-8bb26b799493","name":"Retain filtered messages","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"e73bc84d-c026-3dd9-8dc6-e5ba1e4b55fb","instanceIdentifier":"77a2d265-2aca-3509-b915-59c9de6600c5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["filtered"],"source":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"e135f8ef-12ae-3507-870b-3c25e1b4877a","instanceIdentifier":"b5807d96-2a2f-35bc-92cd-a2a0c66535c4","name":"Route on Provider (Rules)","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"6316aa5f-16b5-38b7-8aeb-127115ef8ba4","instanceIdentifier":"9396e067-1b62-3b68-bfeb-55d891202001","name":"LogMessage","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"3f405a8a-928e-3287-862b-c45075347d73","instanceIdentifier":"62ce6ff8-c82c-30a6-95c9-65759402a4f8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"5f6240c7-c640-3838-abf4-25d82775d556","instanceIdentifier":"a78c1bf3-c573-3af9-b8ed-ba45767e3858","name":"Avoid Special characters","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"fc268081-cf7d-3055-977b-f5e449a7f9c2","instanceIdentifier":"9447a4aa-3e31-359a-9921-e0d6a0696e1a","name":"Route On Format (Json / Xml)","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"d8975281-4218-3d17-be83-18537a9d978b","instanceIdentifier":"bf0b0638-c5bd-3ca8-9627-3be4bc03deef","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"0c362fc6-4ddc-3666-9dcb-d8b35ce9b0ee","instanceIdentifier":"1e241489-8868-3aef-9efd-a9e4115b21f4","name":"Extract Transform Attributes","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":1504.0,"y":320.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"5f6240c7-c640-3838-abf4-25d82775d556","instanceIdentifier":"a78c1bf3-c573-3af9-b8ed-ba45767e3858","name":"Avoid Special characters","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"d1a4870c-a776-381c-9355-c748b3216368","instanceIdentifier":"82d1dc2b-0453-3075-9d41-5767f6169158","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"2d0a3568-e7ad-393d-bf91-cd932258e6b4","instanceIdentifier":"af394741-7c60-3476-945a-4ccbefab62bc","name":"Route on Provider (Rules)","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"6316aa5f-16b5-38b7-8aeb-127115ef8ba4","instanceIdentifier":"9396e067-1b62-3b68-bfeb-55d891202001","name":"LogMessage","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"5be055e0-b527-36a9-8904-63064bd06ba3","instanceIdentifier":"4e9eb2ce-6ef4-3f25-8643-577dc91b84f2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"6242682e-9bac-3b53-9d7b-9d64516d90c8","instanceIdentifier":"f3b21d62-a55e-3a94-a664-0c7557e81a82","name":"TransformXml","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-160.0,"y":1320.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"b0a156d1-c226-3abe-a7a2-e2fbb1713335","instanceIdentifier":"a1e3831d-7a68-3b5d-8c1d-77c87283d325","name":"for processing (from Transform)","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"01c1390b-9ec7-38e7-a64a-59bfd40170fe","instanceIdentifier":"3398b6d7-e537-38f3-9483-47ca2a5bd638","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","id":"6944060b-7529-3665-b754-03f35178598a","instanceIdentifier":"f596af03-28e4-31d2-9c95-8bb26b799493","name":"Retain filtered messages","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"6504a571-8433-307d-b093-63f1a28cd602","identifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"c7fdca7d-597a-389a-aac6-ca7962e5a3e4","instanceIdentifier":"5388bc09-28af-37a5-89dd-1b7ed4061409","name":"input","position":{"x":152.0,"y":-536.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"8503769c-13cc-34df-9a01-653a98b7d84a","labels":[{"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","height":160.0,"identifier":"0f703d5c-abcb-39ad-98a9-2f42f78ab0c9","instanceIdentifier":"272f4ed8-d2cf-3708-9cfa-663faa9789d2","label":"Expected Input:\n- JSONAttribute - json structure\n- transform.spec.filename - xslt filename included in the JSONAttribute\n \nDisclaimer: For now, Transform Spec (hardcoded)\nwaiting  for SSB integration","position":{"x":456.0,"y":-528.0},"style":{"font-size":"14px"},"width":480.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","height":48.0,"identifier":"30e9c4e6-401b-3a09-b967-d56101394621","instanceIdentifier":"fcd58a90-d273-3faa-b6a1-7c1ad2e72c53","label":"XML","position":{"x":960.0,"y":256.0},"style":{"font-size":"22px"},"width":352.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","height":136.0,"identifier":"22082c1a-a364-3764-b12b-c35a09d105a6","instanceIdentifier":"acab18bc-ef4e-37f5-9102-bc7faa52f602","label":"Concurrent\nTasks: 4","position":{"x":1400.0,"y":848.0},"style":{"font-size":"12px"},"width":88.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","height":48.0,"identifier":"6e589077-ee69-38d2-9e9e-0c586a81605e","instanceIdentifier":"9561454a-308f-35aa-9ab8-d916ef3159bf","label":"For Filtering...","position":{"x":120.0,"y":696.0},"style":{"font-size":"22px"},"width":352.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","height":320.0,"identifier":"efeba8d1-b1ca-3e7a-b17e-5e37342407fb","instanceIdentifier":"3efb3296-5c67-3fb8-baf4-d2cb21ed54d0","label":"Concurrent\nTasks: 2","position":{"x":-80.0,"y":-328.0},"style":{"font-size":"18px"},"width":152.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","height":832.0,"identifier":"8727c147-9ef1-3a70-a413-1498238cfcf5","instanceIdentifier":"a026cb20-d421-3f35-bd5c-43bc4e2cf6cb","label":"Concurrent\nTasks: 4\n  \n \n \n \n \n \n \n \nConcurrent\nTasks: 2","position":{"x":824.0,"y":256.0},"style":{"font-size":"20px"},"width":128.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","height":48.0,"identifier":"7ab76068-507e-3a7c-8b10-5cac0599c6ee","instanceIdentifier":"e31d55b7-d4ae-3cd1-a3cc-688f030e2085","label":"For Filtering...","position":{"x":1328.0,"y":64.0},"style":{"font-size":"22px"},"width":352.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","height":232.0,"identifier":"f8b2e21b-47ee-351b-8ef1-6584cb80b41f","instanceIdentifier":"477c63ba-4a3e-3799-8dfb-877784fab2a4","label":"\nHelpfull documentation\n\n     - https://nifi.apache.org/docs/nifi-docs/html/expression-language-guide.html#functions\n\n-------------------\n{\"message.identifier\":\"f1844e2b-59ed-4d2b-92ee-ef2b93c65150\",\n\"message.type\":\"ivim\",\"message.format\":\"xml\",\n\"provider\":\"Commsignia\",\"reference.longitude\":\"-842859299\",\n\"message.timestamp\":\"2022-08-30T11:08:13.128527Z\",\n\"reference.latitude\":\"340549440\",\"action\":\"UPDATE\"}","position":{"x":1168.0,"y":-544.0},"style":{"font-size":"16px"},"width":728.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","height":144.0,"identifier":"10c708d2-1add-3c60-8680-468435f44603","instanceIdentifier":"bef9c352-5746-376e-a4a9-291caee0c097","label":"Review Timestamp (TST) calculation\n---------------------------------------------\nImplement same function as inside\nthe decoder/encoder lib\n${ messageTimestamp:minus( \n    ${ #{reference.timestamp}\n         :toDate(\"yyyy/MM/dd HH:mm:ss.SSS'Z'\", 'UTC')\n         :toNumber() }) }","position":{"x":968.0,"y":984.0},"style":{"font-size":"14px"},"width":352.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","height":88.0,"identifier":"01ca5c84-e49f-3392-83b0-20af43d5db51","instanceIdentifier":"709282c0-2584-3b01-bb65-6301490bfe89","label":" \n                                           MAIN FLOW","position":{"x":-104.0,"y":-688.0},"style":{"font-size":"24px"},"width":664.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","height":192.0,"identifier":"92a216cf-0bdc-389f-9544-2c345a96a49c","instanceIdentifier":"b8e621bf-2e2b-3225-a691-300aedbd32ba","label":"             ERROR HANDLING","position":{"x":96.0,"y":400.0},"style":{"font-size":"24px"},"width":376.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","height":48.0,"identifier":"579c25e6-5753-3781-8a8c-3871bccc7a78","instanceIdentifier":"f5448fe4-dbe9-3407-ab44-c2430dbac76a","label":"Avoid special characters\n(transform \"&\" to \"&amp;\")","position":{"x":1320.0,"y":392.0},"style":{"font-size":"16px"},"width":200.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","height":48.0,"identifier":"516ea856-3335-388c-aac8-24bc9b11cbbe","instanceIdentifier":"4c0e04e2-64a8-3400-905d-15cfb9f2aa54","label":"Using In/Out Ports","position":{"x":152.0,"y":-592.0},"style":{"font-size":"24px"},"width":240.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","height":192.0,"identifier":"56ffa7c2-5891-3ac8-81a5-0e9f8dfaf909","instanceIdentifier":"581a4685-3c85-34ba-9133-d6774e01fbe6","label":"             ERROR HANDLING","position":{"x":-680.0,"y":-184.0},"style":{"font-size":"24px"},"width":376.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","height":192.0,"identifier":"1c931152-635a-39a4-ba8e-88d2c740b71a","instanceIdentifier":"1d5592a1-9510-37f0-bc86-8876b1c7f872","label":"             ERROR HANDLING","position":{"x":1608.0,"y":704.0},"style":{"font-size":"24px"},"width":376.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","height":88.0,"identifier":"ce56245d-de79-33fe-aaec-a8ab1b96681f","instanceIdentifier":"99ce173e-5644-39b0-a5cc-ff68bc261ce9","label":"Script that replaces the 4 processors : \n1- Update latitude\n2- Update longitude\n3- Calcuate TST\n4- UpdateTimestamp","position":{"x":968.0,"y":888.0},"style":{"font-size":"12px"},"width":424.0,"zIndex":0}],"name":"TransformationFlow","outputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"b0a156d1-c226-3abe-a7a2-e2fbb1713335","instanceIdentifier":"a1e3831d-7a68-3b5d-8c1d-77c87283d325","name":"for processing (from Transform)","position":{"x":176.0,"y":1296.0},"scheduledState":"ENABLED","type":"OUTPUT_PORT"}],"parameterContextName":"instantx.context","position":{"x":2416.0,"y":376.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"6242682e-9bac-3b53-9d7b-9d64516d90c8","instanceIdentifier":"f3b21d62-a55e-3a94-a664-0c7557e81a82","maxBackoffPeriod":"10 mins","name":"TransformXml","penaltyDuration":"30 sec","position":{"x":960.0,"y":504.0},"properties":{"secure-processing":"true","cache-size":"10","indent-output":"true","XSLT file name":"#{files.xslt.path}${transform.spec.filename}","cache-ttl-after-last-access":"60 secs"},"propertyDescriptors":{"xslt-controller-key":{"displayName":"XSLT Lookup key","identifiesControllerService":false,"name":"xslt-controller-key","sensitive":false},"xslt-controller":{"displayName":"XSLT Lookup","identifiesControllerService":true,"name":"xslt-controller","sensitive":false},"secure-processing":{"displayName":"Secure processing","identifiesControllerService":false,"name":"secure-processing","sensitive":false},"cache-size":{"displayName":"Cache size","identifiesControllerService":false,"name":"cache-size","sensitive":false},"indent-output":{"displayName":"Indent","identifiesControllerService":false,"name":"indent-output","sensitive":false},"XSLT file name":{"displayName":"XSLT file name","identifiesControllerService":false,"name":"XSLT file name","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"cache-ttl-after-last-access":{"displayName":"Cache TTL after last access","identifiesControllerService":false,"name":"cache-ttl-after-last-access","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.TransformXml","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"6316aa5f-16b5-38b7-8aeb-127115ef8ba4","instanceIdentifier":"9396e067-1b62-3b68-bfeb-55d891202001","maxBackoffPeriod":"10 mins","name":"LogMessage","penaltyDuration":"30 sec","position":{"x":110.39340209960938,"y":448.0},"properties":{"log-message":"Failed to transform ${metadata:jsonPath(\"$['provider']\")} message with id ${metadata:jsonPath(\"$['message.identifier']\")} and type ${metadata:jsonPath(\"$['message.type']\")}","log-level":"info","log-prefix":"#{logging.prefix.engine.transformation}"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"95304a75-3623-3962-a00d-e735f966665c","instanceIdentifier":"f759c65b-c1ce-3a24-9c55-c9037d2f5eed","maxBackoffPeriod":"10 mins","name":"Retain filtered messages","penaltyDuration":"30 sec","position":{"x":1768.0,"y":320.0},"properties":{"log-level":"info"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"e135f8ef-12ae-3507-870b-3c25e1b4877a","instanceIdentifier":"b5807d96-2a2f-35bc-92cd-a2a0c66535c4","maxBackoffPeriod":"10 mins","name":"Route on Provider (Rules)","penaltyDuration":"30 sec","position":{"x":118.39340209960938,"y":752.0},"properties":{"Routing Strategy":"Route to Property name","filtered":"${#{integrator.filter.expression}:evaluateELString():equalsIgnoreCase('true')}"},"propertyDescriptors":{"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"filtered":{"displayName":"filtered","identifiesControllerService":false,"name":"filtered","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-scripting-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"36feaeef-8d4a-3b8e-ab0f-cdc111ee9021","instanceIdentifier":"09ee8a4d-76b6-3b17-94ac-b46c221232e4","maxBackoffPeriod":"10 mins","name":"[Headers] Updates Values (script)","penaltyDuration":"30 sec","position":{"x":960.0,"y":752.0},"properties":{"Script Engine":"Groovy","Script Body":"  import org.apache.commons.io.IOUtils\n  import java.nio.charset.*\n  import java.io.DataInputStream\n  import javax.xml.bind.DatatypeConverter;\n  import java.time.LocalDate;\n  import java.time.ZoneId;\n  import java.util.Calendar;\n  import java.util.Date;\n\n  def flowFile = session.get();\n  if(!flowFile) return\n\n  def fail = false\n  def latlongCorrection = 2147483648;\n  def pattern = \"yyyy/MM/dd HH:mm:ss.SSS'Z'\";\n  def referenceTimestamp = '2004/01/01 00:00:00.000Z';\n\n  if (flowFile!= null){\n      def date_reference;\n      def date_reference_timestamp;\n      def newCurrentTimestamp;\n      def dateHex;\n      flowFile = session.write(flowFile, {inputStream, outputStream ->        \n         try{ \n              def currentLatitude = Long.valueOf(flowFile.getAttribute(\"latitude\"));\n              def currentLongitude = Long.valueOf(flowFile.getAttribute(\"longitude\"));\n              def currentTimestamp = Long.valueOf(flowFile.getAttribute(\"messageTimestamp\"));\n              def inputStreamRed = IOUtils.toString(inputStream, StandardCharsets.UTF_8);\n              def newLatitude;\n              def newLongitude;\n              if (currentLatitude<0){\n                  newLatitude = currentLatitude + Long.valueOf(latlongCorrection); \n              }else {\n                  newLatitude = currentLatitude - Long.valueOf(latlongCorrection); \n              }\n              if (currentLongitude<0){\n                  newLongitude = currentLongitude + Long.valueOf(latlongCorrection); \n              }else {\n                  newLongitude = currentLongitude - Long.valueOf(latlongCorrection); \n              }\n              def conversionLatitude = inputStreamRed.replaceAll('##Latitude##',newLatitude.toString());\n              def conversionLongitude = conversionLatitude.replaceAll('##Longitude##',newLongitude.toString());\n              date_reference = Date.parse(pattern, referenceTimestamp);\n              date_reference_timestamp = date_reference.getTime();\n              newCurrentTimestamp = currentTimestamp - date_reference_timestamp;\n              dateHex = Long.toHexString(newCurrentTimestamp);\n\n              def dateHexlength= dateHex.length();\n              def hexDateTst = dateHex.substring((dateHexlength-8), dateHexlength);\n\t\t\t  def dateTst = Long.parseLong(hexDateTst, 16);\n              def conversionTimestamp = conversionLongitude.replaceAll('##Timestamp##',dateTst.toString()); \n             \n              outputStream.write(conversionTimestamp.getBytes(StandardCharsets.UTF_8));\n         }catch(e) {\n              log.error(\"Error during processing of validate.groovy\", e)\n              //session.transfer(flowFile, REL_FAILURE)\n              fail=true\n          }\n\n      } as StreamCallback)\n\n      if(fail){\n          session.transfer(flowFile, REL_FAILURE)\n          fail = false\n      } else {\n          session.putAttribute(flowFile, 'resultHex', Long.toHexString(newCurrentTimestamp));\n          session.transfer(flowFile, REL_SUCCESS)\n      }\n  }\n"},"propertyDescriptors":{"Script File":{"displayName":"Script File","identifiesControllerService":false,"name":"Script File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Script Engine":{"displayName":"Script Engine","identifiesControllerService":false,"name":"Script Engine","sensitive":false},"Script Body":{"displayName":"Script Body","identifiesControllerService":false,"name":"Script Body","sensitive":false},"Module Directory":{"displayName":"Module Directory","identifiesControllerService":false,"name":"Module Directory","resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]},"sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.script.ExecuteScript","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"fc268081-cf7d-3055-977b-f5e449a7f9c2","instanceIdentifier":"9447a4aa-3e31-359a-9921-e0d6a0696e1a","maxBackoffPeriod":"10 mins","name":"Route On Format (Json / Xml)","penaltyDuration":"30 sec","position":{"x":104.0,"y":-136.0},"properties":{"Routing Strategy":"Route to Property name","xml":"${messageFormat:equalsIgnoreCase('xml')}"},"propertyDescriptors":{"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"xml":{"displayName":"xml","identifiesControllerService":false,"name":"xml","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"5f6240c7-c640-3838-abf4-25d82775d556","instanceIdentifier":"a78c1bf3-c573-3af9-b8ed-ba45767e3858","maxBackoffPeriod":"10 mins","name":"Avoid Special characters","penaltyDuration":"30 sec","position":{"x":960.0,"y":320.0},"properties":{"Regular Expression":"(&)","Replacement Value":"&amp;","Evaluation Mode":"Line-by-Line","Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace"},"propertyDescriptors":{"Regular Expression":{"displayName":"Search Value","identifiesControllerService":false,"name":"Regular Expression","sensitive":false},"Replacement Value":{"displayName":"Replacement Value","identifiesControllerService":false,"name":"Replacement Value","sensitive":false},"Evaluation Mode":{"displayName":"Evaluation Mode","identifiesControllerService":false,"name":"Evaluation Mode","sensitive":false},"Line-by-Line Evaluation Mode":{"displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"name":"Line-by-Line Evaluation Mode","sensitive":false},"Character Set":{"displayName":"Character Set","identifiesControllerService":false,"name":"Character Set","sensitive":false},"Maximum Buffer Size":{"displayName":"Maximum Buffer Size","identifiesControllerService":false,"name":"Maximum Buffer Size","sensitive":false},"Replacement Strategy":{"displayName":"Replacement Strategy","identifiesControllerService":false,"name":"Replacement Strategy","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ReplaceText","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"6944060b-7529-3665-b754-03f35178598a","instanceIdentifier":"f596af03-28e4-31d2-9c95-8bb26b799493","maxBackoffPeriod":"10 mins","name":"Retain filtered messages","penaltyDuration":"30 sec","position":{"x":-337.6065979003906,"y":1000.0},"properties":{"log-level":"info"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"2d0a3568-e7ad-393d-bf91-cd932258e6b4","instanceIdentifier":"af394741-7c60-3476-945a-4ccbefab62bc","maxBackoffPeriod":"10 mins","name":"Route on Provider (Rules)","penaltyDuration":"30 sec","position":{"x":1328.0,"y":120.0},"properties":{"Routing Strategy":"Route to Property name","filtered":"${#{integrator.filter.expression}:evaluateELString():equalsIgnoreCase('true')}"},"propertyDescriptors":{"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"filtered":{"displayName":"filtered","identifiesControllerService":false,"name":"filtered","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"0c362fc6-4ddc-3666-9dcb-d8b35ce9b0ee","instanceIdentifier":"1e241489-8868-3aef-9efd-a9e4115b21f4","maxBackoffPeriod":"10 mins","name":"Extract Transform Attributes","penaltyDuration":"30 sec","position":{"x":96.0,"y":-328.0},"properties":{"transform.spec.filename":"${metadata:jsonPath(\"$['transform.spec.filename']\")}","message.type":"${metadata:jsonPath(\"$['message.type']\")}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","provider":"${metadata:jsonPath(\"$['provider']\")}","messageFormat":"${metadata:jsonPath(\"$['message.format']\")}","latitude":"${metadata:jsonPath(\"$['reference.latitude']\")}","message.key":"${metadata:jsonPath(\"$['message.key']\")}","messageTimestamp":"${metadata:jsonPath(\"$['message.timestamp']\")}","longitude":"${metadata:jsonPath(\"$['reference.longitude']\")}"},"propertyDescriptors":{"transform.spec.filename":{"displayName":"transform.spec.filename","identifiesControllerService":false,"name":"transform.spec.filename","sensitive":false},"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"message.type":{"displayName":"message.type","identifiesControllerService":false,"name":"message.type","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"provider":{"displayName":"provider","identifiesControllerService":false,"name":"provider","sensitive":false},"messageFormat":{"displayName":"messageFormat","identifiesControllerService":false,"name":"messageFormat","sensitive":false},"latitude":{"displayName":"latitude","identifiesControllerService":false,"name":"latitude","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false},"message.key":{"displayName":"message.key","identifiesControllerService":false,"name":"message.key","sensitive":false},"messageTimestamp":{"displayName":"messageTimestamp","identifiesControllerService":false,"name":"messageTimestamp","sensitive":false},"longitude":{"displayName":"longitude","identifiesControllerService":false,"name":"longitude","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"3e821b34-aebf-39d8-827e-867d1cc42c59","instanceIdentifier":"880f0b02-fe71-3d2b-86fa-bf31abd77ec5","maxBackoffPeriod":"10 mins","name":"LogMessage","penaltyDuration":"30 sec","position":{"x":1616.0,"y":752.0},"properties":{"log-message":"Failed to update header values in ${JSONAttributes:jsonPath(\"$['provider']\")} message with id ${JSONAttributes:jsonPath(\"$['message.identifier']\")} and type ${JSONAttributes:jsonPath(\"$['message.type']\")}","log-level":"info","log-prefix":"#{logging.prefix.engine.transformation}"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","identifier":"f2b28187-6216-3c02-94ef-0a32d1d66822","instanceIdentifier":"1ea54349-018e-3015-997c-01138b332eb8","maxBackoffPeriod":"10 mins","name":"LogMessage","penaltyDuration":"30 sec","position":{"x":-672.0,"y":-136.0},"properties":{"log-message":"Format not suported ${JSONAttributes:jsonPath(\"$['message.format']\")} message with id ${JSONAttributes:jsonPath(\"$['message.identifier']\")}","log-level":"info","log-prefix":"#{logging.prefix.engine.transformation}"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"32f2c0f6-ad01-3463-a108-b7626ca68481","instanceIdentifier":"a24c6dd0-d01a-3480-bd83-1e2e22c9b638","name":"Retrieve relevant values from Metadata ","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"b596f6d5-dd8c-3904-ba07-4ec25e65dd24","instanceIdentifier":"b7c487c8-a61d-3767-b347-9f1f3728c8d8","labelIndex":0,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"720dd3c8-6f98-3d6c-b598-5d7a14993cf0","instanceIdentifier":"edf6804f-0152-3d31-8bdf-e547db5b4202","name":"input","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":2147.929,"y":77.38147},{"x":2147.929,"y":213.38147}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"ba4e2803-18ac-3a2c-8754-1ea9389a73ff","instanceIdentifier":"b8067505-c421-3acc-8cee-812aafe69e71","name":"Publish to STEP Kafka topics (v2x.*)","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"d1059299-a931-392e-84ba-35735d4be37b","instanceIdentifier":"8d48fa65-c2a5-3a5a-a291-bfc8e698e9e8","labelIndex":0,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"Not Repeatable","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"1c26c0d7-cf53-3af4-956a-db5b723fce43","instanceIdentifier":"f662dee0-b75d-3745-aa22-14657f08e1ba","name":"Is Repeatable message?","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"ded0398c-3f25-39cd-b168-03667797baf3","instanceIdentifier":"7290493c-34f3-31d6-b974-291f8e92be45","name":"Check Kafka Key and topic generation","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"49b2fda1-8611-3817-ac75-296350868a35","instanceIdentifier":"d3cc8fb4-0b68-3743-80e4-c4832742986d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"f26c2d70-7baa-3736-9944-0a2fe4a3e15b","instanceIdentifier":"9aa1f984-e145-3475-8991-6d59bde222c6","name":"Retain filtered messages","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"ded0398c-3f25-39cd-b168-03667797baf3","instanceIdentifier":"7290493c-34f3-31d6-b974-291f8e92be45","name":"Check Kafka Key and topic generation","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"871754b1-9cf5-372e-9185-b567883819f7","instanceIdentifier":"9e09adda-b9dc-319c-804f-289c9c423bcc","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"18dcaa8e-1725-38ac-bd8c-ba49581e4f0c","instanceIdentifier":"a2ada2dd-da79-33a4-9ff1-03f1d4e19925","name":"Route on Provider (Rules)","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"51bb2c89-d22a-3982-b497-ac1b5cdfaee0","instanceIdentifier":"9ba9627a-ff33-36bd-9af7-f950be5dcdbf","name":"Log Error Message","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"1019e745-3f86-30ed-9fcd-5de11e6999a6","instanceIdentifier":"8a81144e-b40f-3abb-b87a-b3f7a3ef5cce","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"d5107c38-2fe7-3451-99d2-56718a2e01f9","instanceIdentifier":"9302098c-e860-367c-8050-f208b98b4775","name":"Calculate Geohash from Lat/Lon","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"40b3ae06-f5b0-397c-8515-6e5834cf2b5f","instanceIdentifier":"4741e07c-4173-34f2-bbc4-2858dd4e3023","name":"Define the Kafka Key and Topic","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"f0f82791-4f55-3913-965f-1d8a3b75450a","instanceIdentifier":"ba7b9f64-5268-36f1-9b1e-db37827d7d1a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"d5107c38-2fe7-3451-99d2-56718a2e01f9","instanceIdentifier":"9302098c-e860-367c-8050-f208b98b4775","name":"Calculate Geohash from Lat/Lon","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":1728.0,"y":-1248.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"32f2c0f6-ad01-3463-a108-b7626ca68481","instanceIdentifier":"a24c6dd0-d01a-3480-bd83-1e2e22c9b638","name":"Retrieve relevant values from Metadata ","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"90eeaf14-224e-325a-82c6-8374bf1ab93e","instanceIdentifier":"5fd0fa1e-f418-30b2-a35c-12baf23ce5a5","labelIndex":0,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"69e733fd-2d96-35df-b71e-6a0c87732eaa","instanceIdentifier":"1f057d65-6794-3e3e-aed6-d849a25658a2","name":"GenerateFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"4c2a8b9d-c0f6-3557-a625-2a956749acd9","instanceIdentifier":"2ba06259-da0c-3cfc-be73-58e1e08a69fd","name":"Check Validity","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"fec4e3c9-68b4-3532-be85-7e26670d9263","instanceIdentifier":"18e767e8-3490-331e-b374-f705fc722e1c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"52f77081-96fb-304a-b864-655bbc9e5abd","instanceIdentifier":"3b1a8545-86c0-3c72-8363-fe18be53cd69","name":"Route on Provider (Rules)","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"1c26c0d7-cf53-3af4-956a-db5b723fce43","instanceIdentifier":"f662dee0-b75d-3745-aa22-14657f08e1ba","name":"Is Repeatable message?","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"913c6a1e-2326-38ac-90b5-5b59871796b6","instanceIdentifier":"2d863006-921a-3cad-aaa6-7ffbbcf03bf5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"ded0398c-3f25-39cd-b168-03667797baf3","instanceIdentifier":"7290493c-34f3-31d6-b974-291f8e92be45","name":"Check Kafka Key and topic generation","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"4c2a8b9d-c0f6-3557-a625-2a956749acd9","instanceIdentifier":"2ba06259-da0c-3cfc-be73-58e1e08a69fd","name":"Check Validity","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"d5f06b39-8a16-369d-9afc-7d13143813a8","instanceIdentifier":"9d19ebbe-f88e-307d-be27-f3b09d5c75f8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"41457c98-45d9-3ebe-a176-19faf6ad3776","instanceIdentifier":"db7488c3-5319-346b-8647-dbc16b1e1be4","name":"Retain filtered messages","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":1515.929,"y":621.3815}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"f499ed04-bcd9-3f9e-b188-13e8aa5e14eb","instanceIdentifier":"916135db-9746-3d41-81b1-521263209742","name":"Send to Repeatable Topic","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"98231cd3-1587-3226-83fa-8794ac78a858","instanceIdentifier":"90d531be-7c54-3649-beb8-5c6e2acc23ec","labelIndex":0,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"d6734faf-f2f8-3052-bfc7-cb71a50e5db9","instanceIdentifier":"0761e79d-818a-334e-9020-b19571f16292","name":"Publish to STEP Kafka topics (v2x.*)","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"f26c2d70-7baa-3736-9944-0a2fe4a3e15b","instanceIdentifier":"9aa1f984-e145-3475-8991-6d59bde222c6","name":"Retain filtered messages","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"2f117e92-4e7b-36dd-921b-251f3eaa85db","instanceIdentifier":"d4080cba-64d7-37b3-962f-83a7bfe445ce","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["filtered"],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"18dcaa8e-1725-38ac-bd8c-ba49581e4f0c","instanceIdentifier":"a2ada2dd-da79-33a4-9ff1-03f1d4e19925","name":"Route on Provider (Rules)","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":1515.929,"y":-170.61853}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"d2f382ba-04df-33d1-a624-a32fe96f5198","instanceIdentifier":"004495df-2ed8-34a0-ac3d-1aca077f4485","name":"Collect Expired messages","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"9c99a422-b413-3da3-a093-0bcb75fcdbcd","instanceIdentifier":"0ff49cfe-92f0-3298-ac64-118d1f1d3ac2","labelIndex":0,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"4c2a8b9d-c0f6-3557-a625-2a956749acd9","instanceIdentifier":"2ba06259-da0c-3cfc-be73-58e1e08a69fd","name":"Check Validity","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"4c2a8b9d-c0f6-3557-a625-2a956749acd9","instanceIdentifier":"2ba06259-da0c-3cfc-be73-58e1e08a69fd","name":"Check Validity","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"22449b7c-bbd4-32fb-858d-7dec51aefd38","instanceIdentifier":"66eb3344-3c4e-3762-9542-8ffe8028959f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["repeatable"],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"1c26c0d7-cf53-3af4-956a-db5b723fce43","instanceIdentifier":"f662dee0-b75d-3745-aa22-14657f08e1ba","name":"Is Repeatable message?","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"41457c98-45d9-3ebe-a176-19faf6ad3776","instanceIdentifier":"db7488c3-5319-346b-8647-dbc16b1e1be4","name":"Retain filtered messages","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"df808ca7-44f6-314f-b696-ce13ec1ab99f","instanceIdentifier":"85b9018b-6344-34a5-a673-87722464afc8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["filtered"],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"52f77081-96fb-304a-b864-655bbc9e5abd","instanceIdentifier":"3b1a8545-86c0-3c72-8363-fe18be53cd69","name":"Route on Provider (Rules)","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":1515.929,"y":69.38147}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"d6734faf-f2f8-3052-bfc7-cb71a50e5db9","instanceIdentifier":"0761e79d-818a-334e-9020-b19571f16292","name":"Publish to STEP Kafka topics (v2x.*)","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"e27066ba-c289-3da2-840c-1b623dd6be2f","instanceIdentifier":"627ba03a-edb6-37d6-88a8-826c12a05b1c","labelIndex":0,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["valid"],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"4c2a8b9d-c0f6-3557-a625-2a956749acd9","instanceIdentifier":"2ba06259-da0c-3cfc-be73-58e1e08a69fd","name":"Check Validity","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"d5107c38-2fe7-3451-99d2-56718a2e01f9","instanceIdentifier":"9302098c-e860-367c-8050-f208b98b4775","name":"Calculate Geohash from Lat/Lon","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"6bbff184-e632-3e04-952d-aad469ffa01d","instanceIdentifier":"05e85196-6b30-3ba3-9039-e1cdd7b8deae","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"32f2c0f6-ad01-3463-a108-b7626ca68481","instanceIdentifier":"a24c6dd0-d01a-3480-bd83-1e2e22c9b638","name":"Retrieve relevant values from Metadata ","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"5ea34e83-4508-391e-b4bd-fd6ed3013876","instanceIdentifier":"3e95b75b-ef72-302c-a026-6e8dd32ca5c5","name":"Log Error Message","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"555eed54-24e0-3d94-8b7a-6a81c6184fda","instanceIdentifier":"9a4ff315-017f-30da-936c-a655a9d14d0f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["filterKafkakey"],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"ded0398c-3f25-39cd-b168-03667797baf3","instanceIdentifier":"7290493c-34f3-31d6-b974-291f8e92be45","name":"Check Kafka Key and topic generation","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":1643.929,"y":405.38147},{"x":1875.929,"y":405.38147},{"x":2563.929,"y":405.38147}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"01f5a335-73b2-3b09-a5d5-cb63c9dea4a1","instanceIdentifier":"eb9d18d7-a9a0-3a0d-9500-117956ebd090","name":"Log Error Message","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"5fa4213e-05c5-39c6-b42d-5d98cadfd7b4","instanceIdentifier":"747fd807-92e9-3b08-895f-d1c7e9cc59cb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"d6734faf-f2f8-3052-bfc7-cb71a50e5db9","instanceIdentifier":"0761e79d-818a-334e-9020-b19571f16292","name":"Publish to STEP Kafka topics (v2x.*)","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"52f77081-96fb-304a-b864-655bbc9e5abd","instanceIdentifier":"3b1a8545-86c0-3c72-8363-fe18be53cd69","name":"Route on Provider (Rules)","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"efbfc0cc-713a-3c82-99c8-2e92afe443ec","instanceIdentifier":"11ed0b3e-f40b-3dd9-aa3b-b84b66a07958","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"49609574-d244-3466-a0aa-12b4b3e2a40e","instanceIdentifier":"e68aa54c-d555-35ac-a63b-65c326d4a68a","name":"ConsumeKafka (every 4sec)","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"01f5a335-73b2-3b09-a5d5-cb63c9dea4a1","instanceIdentifier":"eb9d18d7-a9a0-3a0d-9500-117956ebd090","name":"Log Error Message","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"8d3643c1-e357-3c07-a08c-a921d8f6667f","instanceIdentifier":"d70caf89-430d-3389-964a-79e09b3fc90d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"f499ed04-bcd9-3f9e-b188-13e8aa5e14eb","instanceIdentifier":"916135db-9746-3d41-81b1-521263209742","name":"Send to Repeatable Topic","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"18dcaa8e-1725-38ac-bd8c-ba49581e4f0c","instanceIdentifier":"a2ada2dd-da79-33a4-9ff1-03f1d4e19925","name":"Route on Provider (Rules)","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"0ef4b1ba-26e8-3009-86fa-72b1807804de","instanceIdentifier":"b3e8b8aa-5c3a-3902-a821-5b126b3b3dc6","labelIndex":0,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"40b3ae06-f5b0-397c-8515-6e5834cf2b5f","instanceIdentifier":"4741e07c-4173-34f2-bbc4-2858dd4e3023","name":"Define the Kafka Key and Topic","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":1875.929,"y":341.38147},{"x":2563.929,"y":341.38147}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"01f5a335-73b2-3b09-a5d5-cb63c9dea4a1","instanceIdentifier":"eb9d18d7-a9a0-3a0d-9500-117956ebd090","name":"Log Error Message","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"8976b4ad-41e7-3320-b6d7-96845bdee22b","instanceIdentifier":"594abeed-0945-340a-8d80-d0464b631b7c","labelIndex":0,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","id":"ba4e2803-18ac-3a2c-8754-1ea9389a73ff","instanceIdentifier":"b8067505-c421-3acc-8cee-812aafe69e71","name":"Publish to STEP Kafka topics (v2x.*)","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"6504a571-8433-307d-b093-63f1a28cd602","identifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"720dd3c8-6f98-3d6c-b598-5d7a14993cf0","instanceIdentifier":"edf6804f-0152-3d31-8bdf-e547db5b4202","name":"input","position":{"x":2016.0,"y":-1496.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"2751cb62-280c-3893-82ed-f020d58cdf26","labels":[{"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","height":32.0,"identifier":"4ba51472-7bb2-36ca-9952-e22e4fbe5b6a","instanceIdentifier":"1cd4de47-c644-3cce-ba89-dcd661c407fa","label":"                                           Publish to Kafka ","position":{"x":1336.0,"y":112.0},"style":{"font-size":"20px"},"width":704.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","height":328.0,"identifier":"a6191019-079b-329a-bbc6-bd68786ea242","instanceIdentifier":"57785463-06c9-3074-a0ef-80dff382aacf","label":"LifeCycle Controller:\n-----------------------------------\n- required metadata\n   - action (NEW, UPDATE, CANCEL)\n   - message.type\n   - message.key\n   - reference.latitude & reference.longitude\n   - validation.to (for repeatable messages)\n   - geohash (ON HOLD - currently being calculated inside this flow)\n  \nCache:\n--------------------\nuse message.key (provider + message type + identifier) for cache key\nuse action for cache value\n  \nCalculations:\n---------------------\n- Kafka topic (destination) - based on message.type and customer.id\n   v2x.cam.public.outgoing\n- Kafka key - calculated based on message.type (e.g. ivim), customer.id (e.g. public) and geohash (gcemadew)\n   v2x/cam/public/g8/g/h/e/r/s/t...\n- cadence/frequency (NOT NEEDED) - assuming always 1sec","position":{"x":2336.0,"y":-1544.0},"style":{"font-size":"12px"},"width":624.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","height":184.0,"identifier":"5314edc7-37a6-3106-903c-5448cc039f8a","instanceIdentifier":"6d2e3b4e-8730-35ce-8f25-aa0cfb2f7e59","label":"                    Error Logging","position":{"x":2592.0,"y":-792.0},"style":{"font-size":"24px"},"width":384.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","height":32.0,"identifier":"bce176ad-9a97-3229-9986-b2800f255dbe","instanceIdentifier":"6dfa4cdf-05fa-3b1e-943b-7f04963227a6","label":"Discard expired messages","position":{"x":1336.0,"y":-384.0},"style":{"font-size":"16px"},"width":352.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","height":48.0,"identifier":"ae0e25c8-c2af-3748-93bc-6763dc785793","instanceIdentifier":"27027c5b-b84b-3fd9-b356-96163f062de9","label":"      Publishing Loop Consumer","position":{"x":712.0,"y":-400.0},"style":{"font-size":"24px"},"width":352.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","height":40.0,"identifier":"da6ab446-e84c-39f1-b4b5-9519c1101beb","instanceIdentifier":"db424d2a-1e18-31a1-8886-0306ff43eb39","label":"            START OF REPETITION CYCLE","position":{"x":1696.0,"y":512.0},"style":{"font-size":"18px"},"width":352.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","height":416.0,"identifier":"e820158c-1493-39df-b6df-2edbb7eba43f","instanceIdentifier":"cb4b537d-2498-356e-800a-ceabd69b0eed","label":"For Filtering....","position":{"x":696.0,"y":-128.0},"style":{"font-size":"24px"},"width":392.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","height":40.0,"identifier":"53d35278-6cbb-377e-9230-892bb9a37591","instanceIdentifier":"d4d9e9aa-2fa2-3ce8-9dd6-76aa82e74fad","label":"TESTING","position":{"x":1552.0,"y":-1544.0},"style":{"font-size":"24px"},"width":352.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","height":192.0,"identifier":"cb4e6c0c-42b3-367a-8c2c-b120d9aa09c1","instanceIdentifier":"7e04985d-8bea-3267-9600-5feaf6c46156","label":"                    Error Logging","position":{"x":2368.0,"y":512.0},"style":{"font-size":"24px"},"width":384.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","height":32.0,"identifier":"a401c5cc-8dbc-30d1-b26f-16ec06ec89d0","instanceIdentifier":"34bfa49b-ae9a-3e02-b39f-de37f1cbb817","label":"          Check message validity","position":{"x":1336.0,"y":-128.0},"style":{"font-size":"20px"},"width":352.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","height":184.0,"identifier":"f69de079-bbad-3234-bd6d-9ca36f7e2e7e","instanceIdentifier":"1b2c0012-1a8c-3831-a2cf-c726507f7c4f","label":"                    Error Logging","position":{"x":2592.0,"y":-1184.0},"style":{"font-size":"24px"},"width":384.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","height":392.0,"identifier":"71f877b6-a5d6-3b00-bf68-2161164c0c34","instanceIdentifier":"e9a19948-fbb9-375b-850c-cdfa899b2705","label":"                                        For Filtering...","position":{"x":1296.0,"y":-992.0},"style":{"font-size":"24px"},"width":648.0,"zIndex":0},{"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","height":40.0,"identifier":"648b5ba5-bd21-3472-9dcc-6deab2a411e4","instanceIdentifier":"315338c7-e9aa-34f7-bd4c-6b14dda9f359","label":"                     MAIN FLOW","position":{"x":1928.0,"y":-1544.0},"style":{"font-size":"24px"},"width":400.0,"zIndex":0}],"name":"Lifecycle Controller","outputPorts":[],"parameterContextName":"instantx.context","position":{"x":2416.0,"y":1056.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-geohash-nar","group":"com.vodafone.v2x.processors","version":"1.3.5"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"d5107c38-2fe7-3451-99d2-56718a2e01f9","instanceIdentifier":"9302098c-e860-367c-8050-f208b98b4775","maxBackoffPeriod":"10 mins","name":"Calculate Geohash from Lat/Lon","penaltyDuration":"30 sec","position":{"x":1960.0,"y":-1136.0},"properties":{"mode":"ENCODE","geohash-level":"${ geohash.precision }","geohash-format":"BASE32","latitude":"${geohash.latitude}","longitude":"${geohash.longitude}"},"propertyDescriptors":{"mode":{"displayName":"Mode","identifiesControllerService":false,"name":"mode","sensitive":false},"geohash-level":{"displayName":"Geohash Level","identifiesControllerService":false,"name":"geohash-level","sensitive":false},"geohash-format":{"displayName":"Geohash Format","identifiesControllerService":false,"name":"geohash-format","sensitive":false},"latitude":{"displayName":"Latitude","identifiesControllerService":false,"name":"latitude","sensitive":false},"geohash":{"displayName":"Geohash","identifiesControllerService":false,"name":"geohash","sensitive":false},"longitude":{"displayName":"Longitude","identifiesControllerService":false,"name":"longitude","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"com.vodafone.v2x.processors.processors.geohash.GeohashCustomProcessor","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"18dcaa8e-1725-38ac-bd8c-ba49581e4f0c","instanceIdentifier":"a2ada2dd-da79-33a4-9ff1-03f1d4e19925","maxBackoffPeriod":"10 mins","name":"Route on Provider (Rules)","penaltyDuration":"30 sec","position":{"x":1315.4755859375,"y":-944.0},"properties":{"Routing Strategy":"Route to Property name","filtered":"${#{integrator.filter.expression}:evaluateELString():equalsIgnoreCase('true')}"},"propertyDescriptors":{"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"filtered":{"displayName":"filtered","identifiesControllerService":false,"name":"filtered","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"69e733fd-2d96-35df-b71e-6a0c87732eaa","instanceIdentifier":"1f057d65-6794-3e3e-aed6-d849a25658a2","maxBackoffPeriod":"10 mins","name":"GenerateFlowFile","penaltyDuration":"30 sec","position":{"x":1552.0,"y":-1496.0},"properties":{"character-set":"UTF-8","metadata":"{\"message.identifier\":\"3f934463-484c-49d2-8c31-9ed382a99669\",\"message.type\":\"ivim\",\"message.format\":\"xml\",\"message.timestamp\":\"1666715500000\",\"message.contentIndex\":\"3\",\"customer.id\":\"public\",\"provider\":\"Commsignia\",\"reference.longitude\":\"-842836619\",\"reference.latitude\":\"340502453\",\"action\":\"UPDATE\",\"validation.duration\":\"\",\"validation.to\":\"1666719000000\",\"message.key\":\"Commsignia_ivim_3f934463-484c-49d2-8c31-9ed382a99669\",\"message.startTime\":1672674949757}","File Size":"0B","generate-ff-custom-text":"123123131231231","Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"metadata":{"displayName":"metadata","identifiesControllerService":false,"name":"metadata","sensitive":false},"File Size":{"displayName":"File Size","identifiesControllerService":false,"name":"File Size","sensitive":false},"mime-type":{"displayName":"Mime Type","identifiesControllerService":false,"name":"mime-type","sensitive":false},"generate-ff-custom-text":{"displayName":"Custom Text","identifiesControllerService":false,"name":"generate-ff-custom-text","sensitive":false},"Batch Size":{"displayName":"Batch Size","identifiesControllerService":false,"name":"Batch Size","sensitive":false},"Unique FlowFiles":{"displayName":"Unique FlowFiles","identifiesControllerService":false,"name":"Unique FlowFiles","sensitive":false},"Data Format":{"displayName":"Data Format","identifiesControllerService":false,"name":"Data Format","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"DISABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"52f77081-96fb-304a-b864-655bbc9e5abd","instanceIdentifier":"3b1a8545-86c0-3c72-8363-fe18be53cd69","maxBackoffPeriod":"10 mins","name":"Route on Provider (Rules)","penaltyDuration":"30 sec","position":{"x":712.0,"y":-88.0},"properties":{"Routing Strategy":"Route to Property name","filtered":"${#{integrator.filter.expression}:evaluateELString():equalsIgnoreCase('true')}"},"propertyDescriptors":{"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"filtered":{"displayName":"filtered","identifiesControllerService":false,"name":"filtered","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"41457c98-45d9-3ebe-a176-19faf6ad3776","instanceIdentifier":"db7488c3-5319-346b-8647-dbc16b1e1be4","maxBackoffPeriod":"10 mins","name":"Retain filtered messages","penaltyDuration":"30 sec","position":{"x":712.0,"y":144.0},"properties":{"log-level":"info"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"ded0398c-3f25-39cd-b168-03667797baf3","instanceIdentifier":"7290493c-34f3-31d6-b974-291f8e92be45","maxBackoffPeriod":"10 mins","name":"Check Kafka Key and topic generation","penaltyDuration":"30 sec","position":{"x":1971.4755859375,"y":-744.0},"properties":{"Routing Strategy":"Route to Property name","filterKafkakey":"${kafkaKey:contains(\"//\")}"},"propertyDescriptors":{"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"filterKafkakey":{"displayName":"filterKafkakey","identifiesControllerService":false,"name":"filterKafkakey","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"01f5a335-73b2-3b09-a5d5-cb63c9dea4a1","instanceIdentifier":"eb9d18d7-a9a0-3a0d-9500-117956ebd090","maxBackoffPeriod":"10 mins","name":"Log Error Message","penaltyDuration":"30 sec","position":{"x":2384.0,"y":560.0},"properties":{"log-message":"Failure to publish to Kafka","log-level":"error","log-prefix":"Lifecycle Controller "},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-kafka-2-6-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"f499ed04-bcd9-3f9e-b188-13e8aa5e14eb","instanceIdentifier":"916135db-9746-3d41-81b1-521263209742","maxBackoffPeriod":"10 mins","name":"Send to Repeatable Topic","penaltyDuration":"30 sec","position":{"x":1696.0,"y":560.0},"properties":{"compression.type":"none","attribute-name-regex":"#{lifecycle.attributes.propagation}","bootstrap.servers":"#{kafka.brokers}","sasl.mechanism":"GSSAPI","max.block.ms":"5 sec","message-header-encoding":"UTF-8","ack.wait.time":"5 secs","sasl.username":"#{kafka.security.username}","use-transactions":"true","acks":"all","security.protocol":"PLAINTEXT","max.request.size":"1 MB","sasl.token.auth":"false","Failure Strategy":"Route to Failure","partitioner.class":"org.apache.kafka.clients.producer.internals.DefaultPartitioner","topic":"#{kafka.topic.lifecycle.repeatable.4sec}","sasl.password":"#{kafka.security.password}","key-attribute-encoding":"utf-8"},"propertyDescriptors":{"compression.type":{"displayName":"Compression Type","identifiesControllerService":false,"name":"compression.type","sensitive":false},"attribute-name-regex":{"displayName":"Attributes to Send as Headers (Regex)","identifiesControllerService":false,"name":"attribute-name-regex","sensitive":false},"bootstrap.servers":{"displayName":"Kafka Brokers","identifiesControllerService":false,"name":"bootstrap.servers","sensitive":false},"sasl.kerberos.principal":{"displayName":"Kerberos Principal","identifiesControllerService":false,"name":"sasl.kerberos.principal","sensitive":false},"sasl.kerberos.service.name":{"displayName":"Kerberos Service Name","identifiesControllerService":false,"name":"sasl.kerberos.service.name","sensitive":false},"kerberos-credentials-service":{"displayName":"Kerberos Credentials Service","identifiesControllerService":true,"name":"kerberos-credentials-service","sensitive":false},"kafka-key":{"displayName":"Kafka Key","identifiesControllerService":false,"name":"kafka-key","sensitive":false},"partition":{"displayName":"Partition","identifiesControllerService":false,"name":"partition","sensitive":false},"sasl.mechanism":{"displayName":"SASL Mechanism","identifiesControllerService":false,"name":"sasl.mechanism","sensitive":false},"max.block.ms":{"displayName":"Max Metadata Wait Time","identifiesControllerService":false,"name":"max.block.ms","sensitive":false},"message-header-encoding":{"displayName":"Message Header Encoding","identifiesControllerService":false,"name":"message-header-encoding","sensitive":false},"kerberos-user-service":{"displayName":"Kerberos User Service","identifiesControllerService":true,"name":"kerberos-user-service","sensitive":false},"message-demarcator":{"displayName":"Message Demarcator","identifiesControllerService":false,"name":"message-demarcator","sensitive":false},"transactional-id-prefix":{"displayName":"Transactional Id Prefix","identifiesControllerService":false,"name":"transactional-id-prefix","sensitive":false},"ack.wait.time":{"displayName":"Acknowledgment Wait Time","identifiesControllerService":false,"name":"ack.wait.time","sensitive":false},"sasl.username":{"displayName":"Username","identifiesControllerService":false,"name":"sasl.username","sensitive":false},"use-transactions":{"displayName":"Use Transactions","identifiesControllerService":false,"name":"use-transactions","sensitive":false},"acks":{"displayName":"Delivery Guarantee","identifiesControllerService":false,"name":"acks","sensitive":false},"security.protocol":{"displayName":"Security Protocol","identifiesControllerService":false,"name":"security.protocol","sensitive":false},"ssl.context.service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"ssl.context.service","sensitive":false},"max.request.size":{"displayName":"Max Request Size","identifiesControllerService":false,"name":"max.request.size","sensitive":false},"sasl.token.auth":{"displayName":"Token Auth","identifiesControllerService":false,"name":"sasl.token.auth","sensitive":false},"Failure Strategy":{"displayName":"Failure Strategy","identifiesControllerService":false,"name":"Failure Strategy","sensitive":false},"partitioner.class":{"displayName":"Partitioner class","identifiesControllerService":false,"name":"partitioner.class","sensitive":false},"sasl.kerberos.keytab":{"displayName":"Kerberos Keytab","identifiesControllerService":false,"name":"sasl.kerberos.keytab","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"topic":{"displayName":"Topic Name","identifiesControllerService":false,"name":"topic","sensitive":false},"sasl.password":{"displayName":"Password","identifiesControllerService":false,"name":"sasl.password","sensitive":true},"key-attribute-encoding":{"displayName":"Key Attribute Encoding","identifiesControllerService":false,"name":"key-attribute-encoding","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-kafka-2-6-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"ba4e2803-18ac-3a2c-8754-1ea9389a73ff","instanceIdentifier":"b8067505-c421-3acc-8cee-812aafe69e71","maxBackoffPeriod":"10 mins","name":"Publish to STEP Kafka topics (v2x.*)","penaltyDuration":"30 sec","position":{"x":1696.0,"y":152.0},"properties":{"compression.type":"none","bootstrap.servers":"#{kafka.brokers}","sasl.mechanism":"GSSAPI","max.block.ms":"5 sec","message-header-encoding":"UTF-8","ack.wait.time":"5 secs","sasl.username":"#{kafka.security.username}","use-transactions":"true","acks":"all","security.protocol":"PLAINTEXT","max.request.size":"1 MB","sasl.token.auth":"false","Failure Strategy":"Route to Failure","partitioner.class":"org.apache.kafka.clients.producer.internals.DefaultPartitioner","topic":"${kafkaTopic}","sasl.password":"#{kafka.security.password}","key-attribute-encoding":"utf-8"},"propertyDescriptors":{"compression.type":{"displayName":"Compression Type","identifiesControllerService":false,"name":"compression.type","sensitive":false},"attribute-name-regex":{"displayName":"Attributes to Send as Headers (Regex)","identifiesControllerService":false,"name":"attribute-name-regex","sensitive":false},"bootstrap.servers":{"displayName":"Kafka Brokers","identifiesControllerService":false,"name":"bootstrap.servers","sensitive":false},"sasl.kerberos.principal":{"displayName":"Kerberos Principal","identifiesControllerService":false,"name":"sasl.kerberos.principal","sensitive":false},"sasl.kerberos.service.name":{"displayName":"Kerberos Service Name","identifiesControllerService":false,"name":"sasl.kerberos.service.name","sensitive":false},"kerberos-credentials-service":{"displayName":"Kerberos Credentials Service","identifiesControllerService":true,"name":"kerberos-credentials-service","sensitive":false},"kafka-key":{"displayName":"Kafka Key","identifiesControllerService":false,"name":"kafka-key","sensitive":false},"partition":{"displayName":"Partition","identifiesControllerService":false,"name":"partition","sensitive":false},"sasl.mechanism":{"displayName":"SASL Mechanism","identifiesControllerService":false,"name":"sasl.mechanism","sensitive":false},"max.block.ms":{"displayName":"Max Metadata Wait Time","identifiesControllerService":false,"name":"max.block.ms","sensitive":false},"message-header-encoding":{"displayName":"Message Header Encoding","identifiesControllerService":false,"name":"message-header-encoding","sensitive":false},"kerberos-user-service":{"displayName":"Kerberos User Service","identifiesControllerService":true,"name":"kerberos-user-service","sensitive":false},"message-demarcator":{"displayName":"Message Demarcator","identifiesControllerService":false,"name":"message-demarcator","sensitive":false},"transactional-id-prefix":{"displayName":"Transactional Id Prefix","identifiesControllerService":false,"name":"transactional-id-prefix","sensitive":false},"ack.wait.time":{"displayName":"Acknowledgment Wait Time","identifiesControllerService":false,"name":"ack.wait.time","sensitive":false},"sasl.username":{"displayName":"Username","identifiesControllerService":false,"name":"sasl.username","sensitive":false},"use-transactions":{"displayName":"Use Transactions","identifiesControllerService":false,"name":"use-transactions","sensitive":false},"acks":{"displayName":"Delivery Guarantee","identifiesControllerService":false,"name":"acks","sensitive":false},"security.protocol":{"displayName":"Security Protocol","identifiesControllerService":false,"name":"security.protocol","sensitive":false},"ssl.context.service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"ssl.context.service","sensitive":false},"max.request.size":{"displayName":"Max Request Size","identifiesControllerService":false,"name":"max.request.size","sensitive":false},"sasl.token.auth":{"displayName":"Token Auth","identifiesControllerService":false,"name":"sasl.token.auth","sensitive":false},"Failure Strategy":{"displayName":"Failure Strategy","identifiesControllerService":false,"name":"Failure Strategy","sensitive":false},"partitioner.class":{"displayName":"Partitioner class","identifiesControllerService":false,"name":"partitioner.class","sensitive":false},"sasl.kerberos.keytab":{"displayName":"Kerberos Keytab","identifiesControllerService":false,"name":"sasl.kerberos.keytab","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"topic":{"displayName":"Topic Name","identifiesControllerService":false,"name":"topic","sensitive":false},"sasl.password":{"displayName":"Password","identifiesControllerService":false,"name":"sasl.password","sensitive":true},"key-attribute-encoding":{"displayName":"Key Attribute Encoding","identifiesControllerService":false,"name":"key-attribute-encoding","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"5ea34e83-4508-391e-b4bd-fd6ed3013876","instanceIdentifier":"3e95b75b-ef72-302c-a026-6e8dd32ca5c5","maxBackoffPeriod":"10 mins","name":"Log Error Message","penaltyDuration":"30 sec","position":{"x":2608.0,"y":-752.0},"properties":{"log-message":"Kafka key generated incorrectly: ${kafkaKey}","log-level":"error","log-prefix":"Lifecycle Controller "},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-kafka-2-6-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"49609574-d244-3466-a0aa-12b4b3e2a40e","instanceIdentifier":"e68aa54c-d555-35ac-a63b-65c326d4a68a","maxBackoffPeriod":"10 mins","name":"ConsumeKafka (every 4sec)","penaltyDuration":"30 sec","position":{"x":712.0,"y":-344.0},"properties":{"Commit Offsets":"true","group.id":"#{kafka.group.lifecycle}","bootstrap.servers":"#{kafka.brokers}","topic_type":"names","max-uncommit-offset-wait":"1 secs","sasl.mechanism":"GSSAPI","honor-transactions":"true","message-header-encoding":"UTF-8","sasl.username":"#{kafka.security.username}","max.poll.records":"10000","security.protocol":"PLAINTEXT","sasl.token.auth":"false","Communications Timeout":"60 secs","topic":"#{kafka.topic.lifecycle.repeatable.4sec}","separate-by-key":"false","sasl.password":"#{kafka.security.password}","key-attribute-encoding":"utf-8","auto.offset.reset":"latest"},"propertyDescriptors":{"header-name-regex":{"displayName":"Headers to Add as Attributes (Regex)","identifiesControllerService":false,"name":"header-name-regex","sensitive":false},"Commit Offsets":{"displayName":"Commit Offsets","identifiesControllerService":false,"name":"Commit Offsets","sensitive":false},"group.id":{"displayName":"Group ID","identifiesControllerService":false,"name":"group.id","sensitive":false},"bootstrap.servers":{"displayName":"Kafka Brokers","identifiesControllerService":false,"name":"bootstrap.servers","sensitive":false},"topic_type":{"displayName":"Topic Name Format","identifiesControllerService":false,"name":"topic_type","sensitive":false},"sasl.kerberos.principal":{"displayName":"Kerberos Principal","identifiesControllerService":false,"name":"sasl.kerberos.principal","sensitive":false},"sasl.kerberos.service.name":{"displayName":"Kerberos Service Name","identifiesControllerService":false,"name":"sasl.kerberos.service.name","sensitive":false},"kerberos-credentials-service":{"displayName":"Kerberos Credentials Service","identifiesControllerService":true,"name":"kerberos-credentials-service","sensitive":false},"max-uncommit-offset-wait":{"displayName":"Max Uncommitted Time","identifiesControllerService":false,"name":"max-uncommit-offset-wait","sensitive":false},"sasl.mechanism":{"displayName":"SASL Mechanism","identifiesControllerService":false,"name":"sasl.mechanism","sensitive":false},"honor-transactions":{"displayName":"Honor Transactions","identifiesControllerService":false,"name":"honor-transactions","sensitive":false},"kerberos-user-service":{"displayName":"Kerberos User Service","identifiesControllerService":true,"name":"kerberos-user-service","sensitive":false},"message-header-encoding":{"displayName":"Message Header Encoding","identifiesControllerService":false,"name":"message-header-encoding","sensitive":false},"message-demarcator":{"displayName":"Message Demarcator","identifiesControllerService":false,"name":"message-demarcator","sensitive":false},"sasl.username":{"displayName":"Username","identifiesControllerService":false,"name":"sasl.username","sensitive":false},"max.poll.records":{"displayName":"Max Poll Records","identifiesControllerService":false,"name":"max.poll.records","sensitive":false},"security.protocol":{"displayName":"Security Protocol","identifiesControllerService":false,"name":"security.protocol","sensitive":false},"ssl.context.service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"ssl.context.service","sensitive":false},"sasl.token.auth":{"displayName":"Token Auth","identifiesControllerService":false,"name":"sasl.token.auth","sensitive":false},"sasl.kerberos.keytab":{"displayName":"Kerberos Keytab","identifiesControllerService":false,"name":"sasl.kerberos.keytab","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"topic":{"displayName":"Topic Name(s)","identifiesControllerService":false,"name":"topic","sensitive":false},"separate-by-key":{"displayName":"Separate By Key","identifiesControllerService":false,"name":"separate-by-key","sensitive":false},"sasl.password":{"displayName":"Password","identifiesControllerService":false,"name":"sasl.password","sensitive":true},"key-attribute-encoding":{"displayName":"Key Attribute Encoding","identifiesControllerService":false,"name":"key-attribute-encoding","sensitive":false},"auto.offset.reset":{"displayName":"Offset Reset","identifiesControllerService":false,"name":"auto.offset.reset","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"4 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.kafka.pubsub.ConsumeKafka_2_6","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"51bb2c89-d22a-3982-b497-ac1b5cdfaee0","instanceIdentifier":"9ba9627a-ff33-36bd-9af7-f950be5dcdbf","maxBackoffPeriod":"10 mins","name":"Log Error Message","penaltyDuration":"30 sec","position":{"x":2608.0,"y":-1136.0},"properties":{"log-message":"Failed to calculate geohash for Latitude ${geohash.latitude} and longitude ${geohash.longitude}","log-level":"error","log-prefix":"Lifecycle Controller "},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"32f2c0f6-ad01-3463-a108-b7626ca68481","instanceIdentifier":"a24c6dd0-d01a-3480-bd83-1e2e22c9b638","maxBackoffPeriod":"10 mins","name":"Retrieve relevant values from Metadata ","penaltyDuration":"30 sec","position":{"x":1960.0,"y":-1312.0},"properties":{"messageKey":"${metadata:jsonPath(\"$['message.key']\")}","geohash.latitude":"${metadata:jsonPath(\"$['reference.latitude']\"):toDecimal():divide(#{geohash.divider})}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","geohash.precision":"${ metadata:jsonPath(\"$['message.geohash.precision']\"):isEmpty():not():ifElse(${metadata:jsonPath(\"$['message.geohash.precision']\")},#{geohash.precision}) }","flow.startTime":"${metadata:jsonPath(\"$['message.startTime']\")}","messageType":"${metadata:jsonPath(\"$['message.type']\")}","provider":"${metadata:jsonPath(\"$['provider']\")}","flow.duration":"${now():toNumber():minus(${metadata:jsonPath(\"$['message.startTime']\")})}","customerId":"${metadata:jsonPath(\"$['customer.id']\")}","action":"${metadata:jsonPath(\"$['action']\")}","message.key":"${metadata:jsonPath(\"$['message.key']\")}","flow.endTime":"${now():toNumber()}","messageTimestamp":"${metadata:jsonPath(\"$['message.timestamp']\")}","validTo":"${metadata:jsonPath(\"$['validation.to']\")}","geohash.longitude":"${metadata:jsonPath(\"$['reference.longitude']\"):toDecimal():divide(#{geohash.divider})}"},"propertyDescriptors":{"messageKey":{"displayName":"messageKey","identifiesControllerService":false,"name":"messageKey","sensitive":false},"geohash.latitude":{"displayName":"geohash.latitude","identifiesControllerService":false,"name":"geohash.latitude","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"geohash.precision":{"displayName":"geohash.precision","identifiesControllerService":false,"name":"geohash.precision","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false},"flow.startTime":{"displayName":"flow.startTime","identifiesControllerService":false,"name":"flow.startTime","sensitive":false},"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"messageType":{"displayName":"messageType","identifiesControllerService":false,"name":"messageType","sensitive":false},"provider":{"displayName":"provider","identifiesControllerService":false,"name":"provider","sensitive":false},"flow.duration":{"displayName":"flow.duration","identifiesControllerService":false,"name":"flow.duration","sensitive":false},"customerId":{"displayName":"customerId","identifiesControllerService":false,"name":"customerId","sensitive":false},"action":{"displayName":"action","identifiesControllerService":false,"name":"action","sensitive":false},"message.key":{"displayName":"message.key","identifiesControllerService":false,"name":"message.key","sensitive":false},"flow.endTime":{"displayName":"flow.endTime","identifiesControllerService":false,"name":"flow.endTime","sensitive":false},"messageTimestamp":{"displayName":"messageTimestamp","identifiesControllerService":false,"name":"messageTimestamp","sensitive":false},"validTo":{"displayName":"validTo","identifiesControllerService":false,"name":"validTo","sensitive":false},"geohash.longitude":{"displayName":"geohash.longitude","identifiesControllerService":false,"name":"geohash.longitude","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"40b3ae06-f5b0-397c-8515-6e5834cf2b5f","instanceIdentifier":"4741e07c-4173-34f2-bbc4-2858dd4e3023","maxBackoffPeriod":"10 mins","name":"Define the Kafka Key and Topic","penaltyDuration":"30 sec","position":{"x":1968.0,"y":-936.0},"properties":{"kafkaKey":"${#{kafka.pattern.key}:replaceFirst('#1', ${messageType:toLower()}):replaceFirst('#2', ${customerId}):replaceFirst('#3', ${geohash.precision}):replaceFirst('#4', ${geohash:replaceAll('(.)','/$1')})}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","kafkaTopic":"${#{kafka.pattern.topic}:replaceFirst('#1', ${messageType:toLower()}):replaceFirst('#2', ${customerId})}"},"propertyDescriptors":{"kafkaKey":{"displayName":"kafkaKey","identifiesControllerService":false,"name":"kafkaKey","sensitive":false},"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"kafkaTopic":{"displayName":"kafkaTopic","identifiesControllerService":false,"name":"kafkaTopic","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"1c26c0d7-cf53-3af4-956a-db5b723fce43","instanceIdentifier":"f662dee0-b75d-3745-aa22-14657f08e1ba","maxBackoffPeriod":"10 mins","name":"Is Repeatable message?","penaltyDuration":"30 sec","position":{"x":1968.0,"y":-88.0},"properties":{"Routing Strategy":"Route to Property name","repeatable":"${validTo:isEmpty():not()}"},"propertyDescriptors":{"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"repeatable":{"displayName":"repeatable","identifiesControllerService":false,"name":"repeatable","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"f26c2d70-7baa-3736-9944-0a2fe4a3e15b","instanceIdentifier":"9aa1f984-e145-3475-8991-6d59bde222c6","maxBackoffPeriod":"10 mins","name":"Retain filtered messages","penaltyDuration":"30 sec","position":{"x":1315.4755859375,"y":-744.0},"properties":{"log-level":"info"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"d2f382ba-04df-33d1-a624-a32fe96f5198","instanceIdentifier":"004495df-2ed8-34a0-ac3d-1aca077f4485","maxBackoffPeriod":"10 mins","name":"Collect Expired messages","penaltyDuration":"30 sec","position":{"x":1336.0,"y":-344.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"4c2a8b9d-c0f6-3557-a625-2a956749acd9","instanceIdentifier":"2ba06259-da0c-3cfc-be73-58e1e08a69fd","maxBackoffPeriod":"10 mins","name":"Check Validity","penaltyDuration":"30 sec","position":{"x":1336.0,"y":-88.0},"properties":{"valid":"${validTo:ge(${now():toNumber()})}","Routing Strategy":"Route to Property name"},"propertyDescriptors":{"valid":{"displayName":"valid","identifiesControllerService":false,"name":"valid","sensitive":false},"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-kafka-2-6-nar","group":"org.apache.nifi","version":"1.18.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","identifier":"d6734faf-f2f8-3052-bfc7-cb71a50e5db9","instanceIdentifier":"0761e79d-818a-334e-9020-b19571f16292","maxBackoffPeriod":"10 mins","name":"Publish to STEP Kafka topics (v2x.*)","penaltyDuration":"30 sec","position":{"x":1336.0,"y":152.0},"properties":{"compression.type":"none","bootstrap.servers":"#{kafka.brokers}","sasl.mechanism":"GSSAPI","max.block.ms":"5 sec","message-header-encoding":"UTF-8","ack.wait.time":"5 secs","sasl.username":"#{kafka.security.username}","use-transactions":"true","acks":"all","security.protocol":"PLAINTEXT","max.request.size":"1 MB","sasl.token.auth":"false","Failure Strategy":"Route to Failure","partitioner.class":"org.apache.kafka.clients.producer.internals.DefaultPartitioner","topic":"${kafkaTopic}","key-attribute-encoding":"utf-8"},"propertyDescriptors":{"compression.type":{"displayName":"Compression Type","identifiesControllerService":false,"name":"compression.type","sensitive":false},"attribute-name-regex":{"displayName":"Attributes to Send as Headers (Regex)","identifiesControllerService":false,"name":"attribute-name-regex","sensitive":false},"bootstrap.servers":{"displayName":"Kafka Brokers","identifiesControllerService":false,"name":"bootstrap.servers","sensitive":false},"sasl.kerberos.principal":{"displayName":"Kerberos Principal","identifiesControllerService":false,"name":"sasl.kerberos.principal","sensitive":false},"sasl.kerberos.service.name":{"displayName":"Kerberos Service Name","identifiesControllerService":false,"name":"sasl.kerberos.service.name","sensitive":false},"kerberos-credentials-service":{"displayName":"Kerberos Credentials Service","identifiesControllerService":true,"name":"kerberos-credentials-service","sensitive":false},"kafka-key":{"displayName":"Kafka Key","identifiesControllerService":false,"name":"kafka-key","sensitive":false},"partition":{"displayName":"Partition","identifiesControllerService":false,"name":"partition","sensitive":false},"sasl.mechanism":{"displayName":"SASL Mechanism","identifiesControllerService":false,"name":"sasl.mechanism","sensitive":false},"max.block.ms":{"displayName":"Max Metadata Wait Time","identifiesControllerService":false,"name":"max.block.ms","sensitive":false},"message-header-encoding":{"displayName":"Message Header Encoding","identifiesControllerService":false,"name":"message-header-encoding","sensitive":false},"kerberos-user-service":{"displayName":"Kerberos User Service","identifiesControllerService":true,"name":"kerberos-user-service","sensitive":false},"message-demarcator":{"displayName":"Message Demarcator","identifiesControllerService":false,"name":"message-demarcator","sensitive":false},"transactional-id-prefix":{"displayName":"Transactional Id Prefix","identifiesControllerService":false,"name":"transactional-id-prefix","sensitive":false},"ack.wait.time":{"displayName":"Acknowledgment Wait Time","identifiesControllerService":false,"name":"ack.wait.time","sensitive":false},"sasl.username":{"displayName":"Username","identifiesControllerService":false,"name":"sasl.username","sensitive":false},"use-transactions":{"displayName":"Use Transactions","identifiesControllerService":false,"name":"use-transactions","sensitive":false},"acks":{"displayName":"Delivery Guarantee","identifiesControllerService":false,"name":"acks","sensitive":false},"security.protocol":{"displayName":"Security Protocol","identifiesControllerService":false,"name":"security.protocol","sensitive":false},"ssl.context.service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"ssl.context.service","sensitive":false},"max.request.size":{"displayName":"Max Request Size","identifiesControllerService":false,"name":"max.request.size","sensitive":false},"sasl.token.auth":{"displayName":"Token Auth","identifiesControllerService":false,"name":"sasl.token.auth","sensitive":false},"Failure Strategy":{"displayName":"Failure Strategy","identifiesControllerService":false,"name":"Failure Strategy","sensitive":false},"partitioner.class":{"displayName":"Partitioner class","identifiesControllerService":false,"name":"partitioner.class","sensitive":false},"sasl.kerberos.keytab":{"displayName":"Kerberos Keytab","identifiesControllerService":false,"name":"sasl.kerberos.keytab","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"topic":{"displayName":"Topic Name","identifiesControllerService":false,"name":"topic","sensitive":false},"sasl.password":{"displayName":"Password","identifiesControllerService":false,"name":"sasl.password","sensitive":true},"key-attribute-encoding":{"displayName":"Key Attribute Encoding","identifiesControllerService":false,"name":"key-attribute-encoding","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},"flowEncodingVersion":"1.0","parameterContexts":{"instantx.context":{"componentType":"PARAMETER_CONTEXT","inheritedParameterContexts":[],"name":"instantx.context","parameters":[{"description":"","name":"rabbitmq.server.username","provided":false,"sensitive":false,"value":"username"},{"description":"Location of XSLT files","name":"files.xslt.path","provided":false,"sensitive":false,"value":"/var/lib/nifi/xslt/"},{"description":"Kafka User","name":"kafka.security.username","provided":false,"sensitive":false,"value":"user1"},{"description":"","name":"kafka.group.lifecycle","provided":false,"sensitive":false,"value":"v2x.lifecycle.inbound.incoming.grp"},{"description":"","name":"rabbitmq.server.password","provided":false,"sensitive":true},{"description":"","name":"rabbitmq.server.port.ssl","provided":false,"sensitive":false,"value":"5671"},{"description":"Reference value used to calculate the TST field for the LongPositionVector structure.","name":"reference.timestamp","provided":false,"sensitive":false,"value":"2004/01/01 00:00:00.000Z"},{"description":"","name":"geohash.precision","provided":false,"sensitive":false,"value":"8"},{"description":"","name":"rabbitmq.server.host.fqdn","provided":false,"sensitive":false,"value":"some.mqserver.com"},{"description":"","name":"logging.prefix.provider","provided":false,"sensitive":false,"value":"INTERFACES "},{"description":"","name":"kafka.topic.lifecycle.repeatable.4sec","provided":false,"sensitive":false,"value":"v2x.lifecycle.repeatable.faster"},{"description":"","name":"geohash.divider","provided":false,"sensitive":false,"value":"10000000"},{"description":"","name":"logging.prefix.engine.transformation","provided":false,"sensitive":false,"value":"integrator.engine.transformation"},{"description":"","name":"lifecycle.attributes.propagation","provided":false,"sensitive":false,"value":"validTo|action|message.*|kafka.*|provider|source|source_platform"},{"description":"Kafka Brokers","name":"kafka.brokers","provided":false,"sensitive":false,"value":"kafka:9093"},{"description":"","name":"amqp.routingkey.generator.denm","provided":false,"sensitive":false,"value":"DENM.private.1_3_1.3"},{"description":"","name":"integrator.filter.expression","provided":false,"sensitive":false,"value":"${message.type:equalsIgnoreCase('DENM')}"},{"description":"Kafka password","name":"kafka.security.password","provided":false,"sensitive":true},{"description":"Defines a template kafka key to be used inside the V2X Step platform.","name":"kafka.pattern.key","provided":false,"sensitive":false,"value":"v2x/#1/#2/g#3#4"},{"description":"Defines the template for the Kafka topic used inside V2X Step","name":"kafka.pattern.topic","provided":false,"sensitive":false,"value":"v2x.#1.#2.outgoing"}]}},"parameterProviders":{},"snapshotMetadata":{"author":"anonymous","comments":"Final version","timestamp":1743158722474,"version":2}}